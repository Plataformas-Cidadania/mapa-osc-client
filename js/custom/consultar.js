"use strict";require(["jquery-ui","libs/jquery-mask/jquery.mask.min"],function(a){$(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(a,e){$(this).css(a),$("<div>").addClass("arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)}}}),$(".scroll").click(function(a){a.preventDefault(),$("html,body").animate({scrollTop:$(this.hash).offset().top},800)})}),require(["react"],function(a){require(["jquery-ui","rotas","jquery","select-boxit"],function(a){function e(a){$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.MetaProjeto(a)},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){var e=$("#cd_meta_projeto"),o='<option value="">Qualquer</option>';null!=a&&$.each(a,function(a,e){o+="<option value="+e.cd_meta_projeto+">"+e.tx_nome_meta_projeto+"</option>"}),e.html(o),$("#cd_meta_projeto").addClass("newSelectBox"),$("#cd_meta_projeto").selectBoxIt({theme:"default",defaultText:"Qualquer",autoWidth:!1}),$("#cd_meta_projeto").selectBoxIt("refresh"),verificarContraste()}})}function o(a){return a=a.replace(/[ÀÁÂÃÄÅ]/g,"A"),a=a.replace(/[àáâãäå]/g,"a"),a=a.replace(/[ÉÈÊË]/g,"E"),a=a.replace(/[éèêë]/g,"e"),a=a.replace(/[ÍÌÎÏ]/g,"I"),a=a.replace(/[íìîï]/g,"i"),a=a.replace(/[ÓÒÔÕ]/g,"O"),a=a.replace(/[óòôõ]/g,"o"),a=a.replace(/[ÚÙÛÜ]/g,"U"),a=a.replace(/[úùûü]/g,"u"),a=a.replace(/[Ç]/g,"C"),a=a.replace(/[ç]/g,"c")}var t="js/controller.php",n=new Rotas;$("#accordion .panel-heading").each(function(){$(this).click(function(){$(this).parent().parent().children().last().toggle("slow")})}),$(function(){$("#dt_data_inicio_conselho").datepicker({defaultDate:"+1w",changeYear:!0,changeMonth:!0,numberOfMonths:1,onClose:function(a){$("#dt_data_fim_conselho").datepicker("option","minDate",a)}}),$("#dt_data_fim_conselho").datepicker({defaultDate:"+1w",changeMonth:!0,changeYear:!0,numberOfMonths:1,onClose:function(a){$("#dt_data_inicio_conselho").datepicker("option","maxDate",a)}}),$("#dt_data_inicio_projeto").datepicker({defaultDate:"+1w",changeYear:!0,changeMonth:!0,numberOfMonths:1,onClose:function(a){$("#dt_data_fim_projeto").datepicker("option","minDate",a)}}),$("#dt_data_fim_projeto").datepicker({defaultDate:"+1w",changeMonth:!0,changeYear:!0,numberOfMonths:1,onClose:function(a){$("#dt_data_inicio_projeto").datepicker("option","maxDate",a)}})}),$(function(){$("div[id^='slider-range-']").each(function(){input_id=$(this).parent().find("input"),tipo=$(this).parent().find("label").attr("for"),"valor_dinheiro"==tipo?$(this).slider({range:!0,animate:!0,min:0,max:1e6,step:100,values:[0,1e6],slide:function(a,e){$(a.target.previousElementSibling).find(".min").val(e.values[0]),$(a.target.previousElementSibling).find(".max").val(e.values[1])}}):"ano"==tipo?$(this).slider({range:!0,min:1600,max:2100,values:[1600,2100],slide:function(a,e){$(a.target.previousElementSibling).find(".min").val(e.values[0]),$(a.target.previousElementSibling).find(".max").val(e.values[1])}}):$(this).slider({range:!0,min:0,max:1e3,values:[0,1e3],slide:function(a,e){$(a.target.previousElementSibling).find(".min").val(e.values[0]),$(a.target.previousElementSibling).find(".max").val(e.values[1])}})})}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.AreaAtuacao()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_area_atuacao");$.each(a,function(a,o){$("<option>").val(o.cd_area_atuacao).text(o.tx_nome_area_atuacao).appendTo(e)})}}});var c;$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.SubAreaAtuacao()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){c=a}}),$("#cd_area_atuacao").change(function(){var a=$(this).val();if(null!=c){var e=$("#cd_subarea_atuacao"),o="";$.each(c,function(e,t){a==t.cd_area_atuacao&&(o+='<label><input id="cd_subarea_atuacao-'+t.cd_subarea_atuacao+'" type="checkbox">'+t.tx_nome_subarea_atuacao+"</label>")}),""==o?$(".subareaAtuacao").css("visibility","hidden"):$(".subareaAtuacao").css("visibility","visible"),e.html(o)}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.Conselho()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_conselho");$.each(a,function(a,o){$("<option>").val(o.cd_conselho).text(o.tx_nome_conselho).appendTo(e)})}}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.Titularidade()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_tipo_participacao");$.each(a,function(a,o){$("<option>").val(o.cd_tipo_participacao).text(o.tx_nome_tipo_participacao).appendTo(e)})}}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.SituacaoImovel()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_situacao_imovel_osc");$.each(a,function(a,o){$("<option>").val(o.cd_situacao_imovel).text(o.tx_nome_situacao_imovel).appendTo(e)})}}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.FontesRecursosProjeto()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_origem_fonte_recursos_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_origem_fonte_recursos_projeto).text(o.tx_nome_origem_fonte_recursos_projeto).appendTo(e)})}}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.ZonaAtuacaoProjeto()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_zona_atuacao_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_zona_atuacao_projeto).text(o.tx_nome_zona_atuacao).appendTo(e)})}}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.AbrangenciaProjeto()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_abrangencia_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_abrangencia_projeto).text(o.tx_nome_abrangencia_projeto).appendTo(e)})}}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.SituacaoProjeto()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_status_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_status_projeto).text(o.tx_nome_status_projeto).appendTo(e)})}}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.FormaParticipacaoConferencia()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_forma_participacao_conferencia");$.each(a,function(a,o){$("<option>").val(o.cd_forma_participacao_conferencia).text(o.tx_nome_forma_participacao_conferencia).appendTo(e)})}$("#cd_forma_participacao_conferencia").addClass("newSelectBox"),$("#cd_forma_participacao_conferencia").selectBoxIt({theme:"default",defaultText:"Qualquer",autoWidth:!1})}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.Conferencia()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_conferencia");$.each(a,function(a,o){$("<option>").val(o.cd_conferencia).text(o.tx_nome_conferencia).appendTo(e)})}$("#cd_conferencia").addClass("newSelectBox"),$("#cd_conferencia").selectBoxIt({theme:"default",defaultText:"Qualquer",autoWidth:!1})}}),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:n.Objetivos()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_objetivo_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_objetivo_projeto).text(o.tx_nome_objetivo_projeto).appendTo(e)})}$("#cd_objetivo_projeto").addClass("newSelectBox"),$("#cd_objetivo_projeto").selectBoxIt({theme:"default",defaultText:"Qualquer",autoWidth:!1})}}),$("#cd_objetivo_projeto").change(function(){var a=$(this).val();if(""!=a)e(a);else{$("#cd_meta_projeto").html('<option value="">Qualquer</option>'),$("#cd_meta_projeto").selectBoxIt("refresh"),verificarContraste()}}),$("#tx_nome_municipio").autocomplete({minLength:1,source:function(a,e){$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"autocomplete",rota:n.AutocompleteOSCByCounty(o(a.term).replace(/ /g,"+"),25)},success:function(a){e($.map(a,function(a){return{label:a.edmu_nm_municipio+" - "+a.eduf_sg_uf,value:a.edmu_nm_municipio+" - "+a.eduf_sg_uf,id:a.edmu_cd_municipio}}))},error:function(a){e([])}})}}),$("#tx_nome_uf").autocomplete({minLength:1,source:function(a,e){$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"autocomplete",rota:n.AutocompleteOSCByState(o(a.term).replace(/ /g,"+"),10)},success:function(a){e($.map(a,function(a){return{label:a.eduf_nm_uf,value:a.eduf_nm_uf,id:a.eduf_cd_uf}}))},error:function(){e([])}})}}),$("#tx_nome_regiao").autocomplete({minLength:1,source:function(a,e){$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"autocomplete",rota:n.AutocompleteOSCByRegion(o(a.term).replace(/ /g,"+"),10)},success:function(a){e($.map(a,function(a){return{label:a.edre_nm_regiao,value:a.edre_nm_regiao,id:a.edre_cd_regiao}}))},error:function(){e([])}})}}),$(".min, .max").keypress(function(){evt=window.event;var a=evt.keyCode;a>47&&a<58||evt.preventDefault()}),$(".min").keyup(function(){$(this).parent().parent().find("div[id^='slider-range-']").slider("values",0,$(this).val())}),$(".max").keyup(function(){$(this).parent().parent().find("div[id^='slider-range-']").slider("values",1,$(this).val())}),$("#btnLimpar").on("click",function(){$(".consultaAvancada input").each(function(){$(this).val("")}),$("input[type=checkbox]").each(function(){$(this).attr("checked",!1),$(this).prop("checked",!1)}),$(".consultaAvancada select").each(function(){$(this).hasClass("newSelectBox")?$(this).data("selectBox-selectBoxIt").selectOption(""):$(this).prop("selectedIndex",0)}),$("div[id^='slider-range-']").each(function(){$(this).slider("values",0,""),$(this).slider("values",1,99999999999)})}),$("#btnConsultar").on("click",function(){var a={};$(".panel-default").each(function(){var e=$(this).find(".panel-title").attr("id");$(this).find("input[type=text], select").each(function(){""!=$(this).val()&&(void 0===a[e]&&(a[e]={}),a[e][$(this).attr("id")]=$(this).val())}),$(this).find("input[type=checkbox]").each(function(){$(this).prop("checked")&&(void 0===a[e]&&(a[e]={}),a[e][$(this).attr("id")]=$(this).prop("checked"))})});var e="./resultado-consulta.html?avancado="+JSON.stringify(a);location.href=e})})});