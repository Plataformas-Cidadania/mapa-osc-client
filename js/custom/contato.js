"use strict";function validaEmail(e){var o=e.substring(0,e.indexOf("@")),a=e.substring(e.indexOf("@")+1,e.length);return o.length>=1&&a.length>=3&&-1==o.search("@")&&-1==a.search("@")&&-1==o.search(" ")&&-1==a.search(" ")&&-1!=a.search(".")&&a.indexOf(".")>=1&&a.lastIndexOf(".")<a.length-1}require(["react"],function(e){require(["jquery-ui","rotas"],function(e){$(".captcha input").checkboxradio(),$(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(e,o){$(this).css(e),$("<div>").addClass("arrow").addClass(o.vertical).addClass(o.horizontal).appendTo(this)}}}),$("#email.form-control").blur(function(e,o){if(validaEmail(this.value)){var a="#"+$("#email.form-control").attr("id")+"1";$("#email.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok")}else{a="#"+$("#email.form-control").attr("id")+"1";$("#email.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove")}}),$(".form-group").find(".btn.btn-success").on("click",function(){if(0==grecaptcha.getResponse().length)return jQuery("#labelCaptcha").text("Resolver o Captcha."),!1;jQuery("#labelCaptcha").text("");var e=$("#assunto :selected").text(),o=$("#nome").val(),a=$("#email").val(),s=$("#mensagem").val(),r=$("#modalMensagem");if(!validaEmail(a))return $("#email.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),!1;$("#email.form-control").closest(".form-group").removeClass("has-error").addClass("has-success");var t={assunto:e,nome:o,email:a,mensagem:s},l=new Rotas;$("#loading").show(),$.ajax({type:"POST",url:"js/controller.php",data:{flag:"consultaPost",rota:l.Contato(),parametros:t},dataType:"json",success:function(e){console.log(e.responseText),r.modal("show")},error:function(e){return console.log(e),500==e.status&&(jQuery("#modalTitle").text("Problema na solicitação!"),jQuery("#modalConteudo").text("Sistema indisponível no momento. Por favor, tente mais tarde.")),r.modal("show"),!1},complete:function(){$("#loading").hide()}})})})});