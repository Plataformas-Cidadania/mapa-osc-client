"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,a){for(var o=0;o<a.length;o++){var t=a[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,o,t){return o&&e(a.prototype,o),t&&e(a,t),a}}(),Projeto=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getFonteDeRecursosProjeto",value:function(e){return{id:"fonte_recursos",dados:e[Object.keys(e)[0]]}}},{key:"montarProjetos",value:function(e,a){var o=[],t=a.validateObject(e.projeto_abreviado,[]);o.push({id:"lista_projetos",priority:"2",text:"Projetos, atividades e programas - PAP"});for(var r=3,n=t.length,i=new Array(n),l=0;l<t.length;l++)i[l]=new Array(r),i[l][0]=a.validateObject(t[l].id_projeto,1),i[l][1]=a.validateObject(t[l].tx_nome_projeto,""),i[l][2]="<span className='input-group-btn'><button id='rem_projeto2' className='btn-danger btn'>Remover Projeto</button></span>";o.push(i);for(var r=3,n=t.length,i=new Array(n),l=0;l<t.length;l++)i[l]=new Array(r),i[l][0]=a.validateObject(t[l].id_projeto,1),i[l][1]=a.validateObject(t[l].tx_nome_projeto,""),i[l][2]="<span className='input-group-btn'><button id='rem_projeto2' className='btn-danger btn'>Remover Projeto</button></span>";return o.push(i),o}},{key:"montarProjeto",value:function(e,a,o,t){var r=o.labelsProjeto(),n=[],i=(e.id_projeto,a.validateObject(e.projeto,e)),e=a.validateObject(i[0],i),l=a.validateObject(e.ft_identificador_projeto_externo,"Representante de OSC"),c=a.validateObject(e.objetivo_meta,null),s=this.getFonteDeRecursosProjeto(a.validateObject(e.fonte_recursos,[]));s.dados=a.validateObject(e.fonte_recursos,[]);for(var u in e)if("tipo_parceria"!=u&&"fonte_recursos"!=u&&"area_atuacao"!=u&&"osc_parceira"!=u&&"area_atuacao_outra"!=u){if(e.hasOwnProperty(u)&&void 0!==r[u]){var p=u,d=e[u],j=r[u].header,v=r[u].containerClass,b=r[u].removable,_=r[u].type,f=r[u].options,h=r[u].placeholder,g=null,m=!1;if(null===d||d.constructor!==Array){var O=a.InputProjeto(p,d,_,f,b,g,m,h,l,c),y=a.AgrupadorDeInputs(p,v,j,[O],g);n.push(y)}}}else if("tipo_parceria"==u){var p=u,d=e[u],j=r[u].header,v=r[u].containerClass,b=r[u].removable,_=r[u].type,f=r[u].options,h=r[u].placeholder,g=null,m=!1,O=a.InputProjeto(p,d,_,f,b,g,m,h,l,null),y=a.AgrupadorDeInputs(p,v,j,[O],g);n.push(y)}if(e.hasOwnProperty("fonte_recursos")){var p=s.id,d=s.dados,j=r[p].header,v=r[p].containerClass,b=r[p].removable,_=r[p].type,f=r[p].options,h=r[p].placeholder,g=null,m=!1,O=a.InputProjeto(p,d,_,f,b,g,m,h,l,null),y=a.AgrupadorDeInputs(p,v,j,[O],g);n.push(y)}a.validateObject(e.area_atuacao,[]);for(var P=a.validateObject(e.area_atuacao_outra,[]),I=a.validateObject(e.localizacao,[]),A=a.getTipoProjeto("localizacao_projeto",I),C=a.validateObject(e.publico_beneficiado,[]),w=a.getTipoProjeto("publico_beneficiado",C),k=a.validateObject(e.financiador_projeto,[]),T=a.getTipoProjeto("financiador_projeto",k),P=a.getTipoProjeto("area_atuacao_outra",P),x=a.validateObject(e.osc_parceira,[]),D=a.getTipoProjeto("osc_parceira",x),R=e.osc_parceira?e.osc_parceira.length:0,E=0;E<R;E++)a.validateObject(e.osc_parceira[E].id_osc,null);a.validateObject(e.objetivo_meta)&&e.objetivo_meta.id_objetivo_projeto;for(var N=[A,w,T,D],z=0;z<N.length;z++)if(a.validateObject(N[z].dados,!1)){var F=this.createAgrupadorMultipleInputs(N[z],r,a);n.push(F)}return n}},{key:"carregaProjeto",value:function(e,a,o,t,r){var n={},i=null;if(r){var l=a.getEmptyProject();n.agrupadores=this.montarProjeto(l,t,a,o)}else $.ajax({url:"js/controller.php",type:"GET",async:!1,dataType:"json",data:{flag:"consulta",rota:o.ProjectByID(e)},error:function(e){console.log("Erro no ajax: "),console.log(e)},success:function(e){n.projeto=e}}),i=this.montarProjeto(n.projeto,t,a,o),n.agrupadores=i;return n}},{key:"createAgrupadorMultipleInputs",value:function(e,a,o){var t={type:"remove",value:"Remover"},r={type:"add",value:"Adicionar"},n=e.id,i=a[e.id],l=[],c="",s=o.validateObject(i)?i.removable:"",u=o.validateObject(i)?i.type:"",p=o.validateObject(i)?i.options:"",d=o.validateObject(i)?i.custom_class:"",j=null,v=!1;if(s&&(j=[t],y=[r],v=!0),0===e.dados.length){_=n;c="";g=o.InputProjeto(_,c,u,p,s,j,v,"Insira a informação",null,null,d);l.push(g)}for(var b=0;b<e.dados.length;b++){var _=n;for(var f in e.dados[b])if(e.dados[b].hasOwnProperty(f)&&"tx"===f.slice(0,2)){c=e.dados[b][f];var h=e.dados[b].cd_area_atuacao_projeto,g=o.InputProjeto(_,c,u,p,s,j,v,"Insira a informação",null,h,d);l.push(g)}}var m=o.validateObject(i)?i.header:"",O=o.validateObject(i)?i.containerClass:"col-md-3",y=null;s&&(j=[t],y=[r]);return o.AgrupadorDeInputs(n,O,m,l,y,p,d)}}]),e}();