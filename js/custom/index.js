"use strict";require(["jquery-ui"],function(a){$(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(a,e){$(this).css(a),$("<div>").addClass("arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)}}}),jQuery(document).ready(function(a){a(".scroll").click(function(e){e.preventDefault(),a("html,body").animate({scrollTop:a(this.hash).offset().top},800)})})}),require(["nv.d3.lib","graficoParaTabela"],function(a){var e=[{config:[",f",1,""],leg_X:"Região",leg_Y:"Quantidade de OSC",tituloColuna:["Natureza Jurídica","Região","Quantidade de OSCs"],legenda:"Fonte: Elaboração do Ipea com base em dados da Secretaria da Receita Federal (2016).",titulo:"Número de OSCs por natureza jurídica e região, Brasil - 2016",series:[{key:"Associação Privada",values:[{label:"SUDESTE",value:268864},{label:"SUL",value:142398},{label:"NORDESTE",value:184477},{label:"CENTRO-OESTE",value:53663},{label:"NORTE",value:56079},{label:"Não informado",value:3065}]},{key:"Organização Religiosa",values:[{label:"SUDESTE",value:51e3},{label:"SUL",value:13428},{label:"NORDESTE",value:17550},{label:"CENTRO-OESTE",value:9311},{label:"NORTE",value:6539},{label:"Não informado",value:813}]},{key:"Fundacao Privada",values:[{label:"SUDESTE",value:5293},{label:"SUL",value:2001},{label:"NORDESTE",value:3128},{label:"CENTRO-OESTE",value:1167},{label:"NORTE",value:772},{label:"Não informado",value:36}]},{key:"Organização Social",values:[{label:"SUDESTE",value:219},{label:"SUL",value:71},{label:"NORDESTE",value:145},{label:"CENTRO-OESTE",value:101},{label:"NORTE",value:62},{label:"Não informado",value:4}]}]}],o=[{config:[",f",1,""],leg_X:"Tipo de título ou certificação",leg_Y:"Quantidade de OSC",tituloColuna:["Títulos e Certificados","Número de OSC"],legenda:"Fonte: Ministério da Justiça (2017), Ministério da Educação (2017), Ministério da Saúde (2017), Ministério do Desenvolvimento Social (2017).",titulo:"Número de organizações civis com títulos e certificações, Brasil - 2017",key:"GraficoMain 4",values:[{label:"OSCIP/MJ",value:7114},{label:"CEBAS/MDS",value:5487},{label:"CEBAS/MS",value:1363},{label:"CEBAS/MEC",value:944}]}],t=[{config:[",.1%",1,"",",f"],leg_X:"Ano",leg_Y:"Quantidade de OSC",tituloColuna:["","Ano","Valores"],legenda:"Fonte: Elaboração do Ipea, com base em dados da Secretaria da Receita Federal (2016) e RAIS/MTE (2015).<br> * NOTA: em 2016 calculou-se o total de OSCs ativas do país a partir da base de dados da ficha cadastral de CNPJ da Secretaria da Receita Federal – SRF. Esses microdados não estavam disponíveis para análise de 2010 a 2015, quando se utilizou somente a base de dados da RAIS para calcular o total de OSCs. Observou-se na base da SRF milhares de OSCs ativas, mas ausentes da base RAIS/MTE. A alteração na fonte dos dados para calcular o total das OSCs explica a maior parte do crescimento observado entre os anos de 2015 e 2016.<br>Consulte a <a href='metodologia.html' target='_self'>seção metodológica</a> para mais detalhes.",titulo:"Total de OSC, por ano (2010-2016)*",series:[{key:"Número de OSCs",bar:!0,color:"#ccf",values:[{label:2010,value:514027},{label:2011,value:534728},{label:2012,value:539792},{label:2013,value:546453},{label:2014,value:509608},{label:2015,value:525591},{label:2016,value:820186}]},{key:"Taxa de Crescimento Acumulado",color:"#ff7f0e",values:[{label:2010,value:0},{label:2011,value:.04},{label:2012,value:.01},{label:2013,value:.012},{label:2014,value:-.067},{label:2015,value:.031},{label:2016,value:.56}]}]}],l=[{config:[",.1f",1e9,""],leg_X:"Ano",leg_Y:"em Bilhoes R$",tituloColuna:["Entidade","Ano","Valor Total"],legenda:"Fonte: Senado Federal (2018). Elaboração própria. Nota: Referem-se aos valores executados (liquidados). Valores corrigidos para preços de janeiro de 2018 pelo IPCA/IBGE. Para calcular o valor do orçamento, foram excluídos os valores destinados ao serviço da dívida pública.",titulo:"Evolução de recursos públicos federais transferidos para entidades sem fins lucrativos e somente para OSCs (2010-2017)",series:[{tipo_valor:"$",values:[{x:2010,y:6278480452},{x:2011,y:4898668291},{x:2012,y:6688450140},{x:2013,y:8196459734},{x:2014,y:8265271851},{x:2015,y:6744253807},{x:2016,y:4901355349},{x:2017,y:3252559195}],key:"ESFLs"},{tipo_valor:"$",values:[{x:2010,y:11440189630.5479},{x:2011,y:10054475412.4703},{x:2012,y:10607810116.9065},{x:2013,y:11099497076.5084},{x:2014,y:12112818316.924},{x:2015,y:11368502473.1809},{x:2016,y:2312173689.10068},{x:2017,y:6352490520.4482}],key:"OSCs"},{tipo_valor:"$",values:[{x:2010,y:2678099914.85083},{x:2011,y:1640846786.21371},{x:2012,y:2433787954.02355},{x:2013,y:2664537618.54551},{x:2014,y:2498533417.99339},{x:2015,y:1787719861.38991},{x:2016,y:353510128.429499},{x:2017,y:2229340028.59652}],key:"OSCs (Modalidade 50)"}]}];createMultiBarChart("#graficoMain-1",e),createBarChart("#graficoMain-4",o),createLinePlusBarChart("#graficoMain-5",t),createLineChart("#graficoMain-6",l),$("#tabelaMain-1").click(function(){createTabela_MultBar_Line(e,!1)}),$("#tabelaMain-4").click(function(){createTabela_Bar_Donut(o)}),$("#tabelaMain-5").click(function(){createTabela_MultBar_Line(t,!1)}),$("#tabelaMain-6").click(function(){createTabela_MultBar_Line(l,!0)})}),require(["rotas","bootstrap","jquery-ui"],function(a){var e=new Rotas,o=e.getBaseUrlCMS();$.ajax({url:"js/controller.php",type:"GET",dataType:"json",data:{flag:"consulta",rota:e.ModuloWebdoors()},error:function(a){console.log("ERRO no AJAX :"+a),$(".loading").addClass("hide")},success:function(a){var e="";if(a.length>0)for(var t in a){var l="",r="";0==t?(l+='<li data-target="#carousel-topo" data-slide-to="'+t+'" class="active"></li>',r+='<div class="item active">'):(l+='<li data-target="#carousel-topo" data-slide-to="'+t+'"></li>',r+='<div class="item">'),e=null!=a[t].tx_imagem_webdoor&&""!=a[t].tx_imagem_webdoor?o+"/imagens/webdoors/"+a[t].tx_imagem_webdoor:"img/item_cms.png",r+='<a class="btn-item" href="'+a[t].tx_link_webdoor+'">',r+='<img src="'+e+'"  onerror="this.src=\'img/item_cms.png\';" alt="" title="Link para '+a[t].tx_titulo_webdoor+'">',r+='<div class="carousel-caption"><h4 class="legenda">'+a[t].tx_legenda_webdoor+"</h4></div>",null!=a[t].tx_descricao_webdoor&&""!=a[t].tx_descricao_webdoor&&(r+='<div class="carousel-caption carousel-descricao"><div">'+a[t].tx_descricao_webdoor+"</div></div>"),r+="</a></div>",$(".carousel-indicators").append(l),$(".carousel-inner").append(r)}$(".loading").addClass("hide")}});var t="js/controller.php",l="",r=$(".tab-content");function i(a){return a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/[ÀÁÂÃÄÅ]/g,"A")).replace(/[àáâãäå]/g,"a")).replace(/[ÉÈÊË]/g,"E")).replace(/[éèêë]/g,"e")).replace(/[ÍÌÎÏ]/g,"I")).replace(/[íìîï]/g,"i")).replace(/[ÓÒÔÕ]/g,"O")).replace(/[óòôõ]/g,"o")).replace(/[ÚÙÛÜ]/g,"U")).replace(/[úùûü]/g,"u")).replace(/[Ç]/g,"C")).replace(/[ç]/g,"c")}r.find(".btn.btn-primary").on("click",function(){var a,e=r.find(".tab-pane.fade.active.in"),o=e.attr("id"),t=e.find(".form-control").val();t=i(t.trim()).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,",").replace(/\+{2,}/g,"_"),"organizacao"==o&&""!==t?(a="./resultado-consulta.html?"+o+"="+t+"&tipoBusca=0",location.href=a):""!==(t=$(".response").val())?(a="./resultado-consulta.html?"+o+"="+t,location.href=a):$("#errorLabel").removeClass("hide")}),$("#organizacao .form-control").autocomplete({minLength:3,source:function(a,o){l=i(a.term.trim()).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,","),$.ajax({url:t,type:"GET",dataType:"json",data:{flag:"autocomplete",rota:e.AutocompleteOSCByName(l,10,0)},success:function(a){o($.map(a,function(a){return{label:a.tx_nome_osc,value:a.tx_nome_osc,id:a.id_osc}}))},error:function(a){o([])}})},select:function(a,e){var o="./resultado-consulta.html?organizacao="+i(e.item.value.trim()).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,",").replace(/\+{2,}/g,"_")+"&tipoBusca=1";location.href=o}}),$("#municipio .form-control").autocomplete({minLength:3,source:function(a,o){$.ajax({url:t,type:"GET",dataType:"json",data:{flag:"autocomplete",rota:e.AutocompleteOSCByCounty(i(a.term).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,","),25)},success:function(a){o($.map(a,function(a){return{label:a.edmu_nm_municipio+" - "+a.eduf_sg_uf,value:a.edmu_nm_municipio+" - "+a.eduf_sg_uf,id:a.edmu_cd_municipio}}))},error:function(a){o([])}})},select:function(a,e){$(".response").val(e.item.id);var o="./resultado-consulta.html?municipio="+e.item.id;location.href=o}}),$("#estado .form-control").autocomplete({minLength:3,source:function(a,o){$.ajax({url:t,type:"GET",dataType:"json",data:{flag:"autocomplete",rota:e.AutocompleteOSCByState(i(a.term).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,","),10)},success:function(a){o($.map(a,function(a){return{label:a.eduf_nm_uf,value:a.eduf_nm_uf,id:a.eduf_cd_uf}}))},error:function(){o([])}})},select:function(a,e){$(".response").val(e.item.id);var o="./resultado-consulta.html?estado="+e.item.id;location.href=o}}),$("#regiao .form-control").autocomplete({minLength:3,source:function(a,o){$.ajax({url:t,type:"GET",dataType:"json",data:{flag:"autocomplete",rota:e.AutocompleteOSCByRegion(i(a.term).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,","),10)},success:function(a){o($.map(a,function(a){return{label:a.edre_nm_regiao,value:a.edre_nm_regiao,id:a.edre_cd_regiao}}))},error:function(){o([])}})},select:function(a,e){$(".response").val(e.item.id);var o="./resultado-consulta.html?regiao="+e.item.id;location.href=o}}),$(document).ready(function(){var a="";function o(){var a=window.localStorage.getItem("cd_localidade");""!=a&&null!=a&&void 0!=a||$("#modalLocalidade").modal("show"),c()}function l(){var e=0,o=0,t="",l=$(".MultiCarousel").width(),r=$("body").width();$(".MultiCarousel-inner").each(function(){o+=1;var i=$(this).find(".item").length,c=$(this).parent().attr("data-items");t=c.split(","),$(this).parent().attr("id","MultiCarousel"+o),r>=1200?(e=t[3],a=30+l/e):r>=992?(e=t[2],a=l/e):r>=768?(e=t[2],a=l/e):r>=400?(e=t[1],a=l/e):(e=t[0],a=l/e),$(this).css({transform:"translateX(0px)",width:a*i}),$(this).find(".item").each(function(){$(this).outerWidth(a)}),$(".leftLst").addClass("over"),$(".rightLst").removeClass("over")})}function r(e,o){var t="#"+$(o).parent().attr("id");!function(e,o,t){var l=".MultiCarousel-inner",r=".leftLst",i=".rightLst",c="",n=$(o+" "+l).css("transform").match(/-?[\d\.]+/g),s=Math.abs(n[4]);if(0==e)c=parseInt(s)-parseInt(a*t),$(o+" "+i).removeClass("over"),c<=a/2&&(c=0,$(o+" "+r).addClass("over"));else if(1==e){var d=$(o).find(l).width()-$(o).width();c=parseInt(s)+parseInt(a*t),$(o+" "+r).removeClass("over"),c>=d-a/2&&(c=d,$(o+" "+i).addClass("over"))}$(o+" "+l).css("transform","translateX("+-c+"px)")}(e,t,$(t).attr("data-slide"))}function i(a,o){var l,r,i,c;$.ajax({url:t,type:"GET",async:!1,dataType:"json",data:{flag:"consulta",rota:(l=a,r=window.localStorage.getItem("cd_localidade"),i=window.localStorage.getItem("cd_latitude"),c=window.localStorage.getItem("cd_longitude"),void 0!=i&&null!=i&&""!=i&&void 0!=c&&null!=c&&""!=c?e.RecuperarOscPorGeolocalizacaoAreaAtuacao(l,i,c):void 0!=r&&null!=r&&""!=r?e.RecuperarOscPorLocalidadeAreaAtuacao(l,r):e.RecuperarOscPorAreaAtuacao(l))},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){$("#loading_top_5").hide();var e='<center><h5 style="padding-top: 0px;"><b>'+o+"</b></h5></center>";e+='<div class="table-responsive">',e+='<table class="table table-hover">';var t="<tbody>";if(null!=a&&0!==a.length){for(var l=0;l<a.length&&l<5;l++){t+="<tr>",t+='<th scope="row">'+(l+1)+"</th>",t+='  <td><a class="btn-item" onclick="location.href=\'visualizar-osc.html#'+a[l].id_osc+"';\" >"+a[l].tx_nome_osc+"</a></td>",t+='  <th scope="row"><a class="btn-item" onclick="location.href=\'visualizar-osc.html#'+a[l].id_osc+'\';"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a></th>',t+="</tr>"}t+="</tbody>"}else t+="<tr>",t+='<th scope="row"><center>Nenhuma OSC encontrada.</center></th>',t+="</tr>";e+=t+"</table></div>",$("#top_5_area_atuacao").html(e)}})}function c(){$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:e.AreaAtuacao()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){var e="";if(null!=a&&void 0!==a.length){for(var o,t="",c=0;c<a.length;c++)1!=a[c].cd_area_atuacao&&10!=a[c].cd_area_atuacao&&(2==a[c].cd_area_atuacao?(t+='<div class="item active">',o=a[c].cd_area_atuacao,e=a[c].tx_nome_area_atuacao):t+='<div class="item">',t+='<div class="col-xs-12"><a class="btn-item" data-btn='+a[c].cd_area_atuacao+" <center>",t+='<img class="imgAreaAtuacao" src="img/area_atuacao_'+a[c].cd_area_atuacao+'.png" >',t+="<h5><b>"+a[c].tx_nome_area_atuacao+"</b></h5></center></a></div></div>");$(".MultiCarousel-inner").append(t),$(".leftLst, .rightLst").click(function(){r($(this).hasClass("leftLst")?0:1,this)}),l(),$(window).resize(function(){l()}),$(".MultiCarousel .item a").on("click",function(){o=$(this).attr("data-btn"),e=$(this).text(),i(o,e)}),i(o,e)}}})}navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){var l=a.coords.latitude,r=a.coords.longitude;void 0!=l&&null!=l&&""!=l&&void 0!=r&&null!=r&&""!=r?(window.localStorage.setItem("cd_latitude",l.toLocaleString("PT")),window.localStorage.setItem("cd_longitude",r.toLocaleString("PT")),$.ajax({url:t,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:e.RecuperarMunicipio(l,r)},error:function(a){o()},success:function(a){null!=a&&0!==a.length&&(window.localStorage.setItem("cd_localidade",a[0].cd_localidade),window.localStorage.setItem("nome_localidade",a[0].tx_nome_localidade),$("#btn-localidade").text(a[0].tx_nome_localidade)),c()}})):o()},function(a){o()}):o(),$(".ui-autocomplete-input").keypress(function(a){if(13==a.which)return $(".btn-primary").click(),$(".ui-menu-item").hide(),!1}),$.ajax({url:t,type:"GET",async:!1,dataType:"json",data:{flag:"consulta",rota:e.RecuperarOscAtualizacao()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if($("#loading_top_10").hide(),null!=a&&void 0!==a.length){var e='<div class="table-responsive">';e+='<table class="table table-hover">';for(var o="<tbody>",t=0;t<a.length&&t<10;t++){o+="<tr>",o+='<th scope="row">'+(t+1)+"</th>",o+='  <td><a class="btn-item" onclick="location.href=\'visualizar-osc.html#'+a[t].id_osc+"';\" >"+a[t].tx_nome_osc+"</a></td>",o+='  <th scope="row"><a class="btn-item" onclick="location.href=\'visualizar-osc.html#'+a[t].id_osc+'\';"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a></th>',o+="</tr>"}e+=(o+="</tbody>")+"</table></div>",$("#top_10_atualizacao").html(e)}}})})});