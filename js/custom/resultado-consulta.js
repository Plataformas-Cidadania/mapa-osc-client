"use strict";function getParameter(a,e){e||(e=location.href);var o="[\\?&]"+(a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)",i=new RegExp(o).exec(e);return null==i?null:i[1]}require(["jquery-ui"],function(a){$(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(a,e){$(this).css(a),$("<div>").addClass("arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)}}})});var urlRota,type_http;require(["rotas","jquery-ui","datatables-responsive","leafletCluster","simplePagination","util"],function(a){function e(a){return a=a.replace(/[ÀÁÂÃÄÅ]/g,"A"),a=a.replace(/[àáâãäå]/g,"a"),a=a.replace(/[ÉÈÊË]/g,"E"),a=a.replace(/[éèêë]/g,"e"),a=a.replace(/[ÍÌÎÏ]/g,"I"),a=a.replace(/[íìîï]/g,"i"),a=a.replace(/[ÓÒÔÕ]/g,"O"),a=a.replace(/[óòôõ]/g,"o"),a=a.replace(/[ÚÙÛÜ]/g,"U"),a=a.replace(/[úùûü]/g,"u"),a=a.replace(/[Ç]/g,"C"),a=a.replace(/[ç]/g,"c")}function o(a,e){var o;$("#loading").removeClass("hide"),$("#resultadoconsulta_formato_dados").hide(),e?(type_http="POST",o=x):(type_http="GET",o=null),$.ajax({url:a,type:type_http,dataType:"json",data:o,error:function(a){console.log("Erro no ajax: "+a)},success:function(a){if("Nenhuma Organização encontrada!"!==a){var e=a.length,o=new Array(e),i=0,r="Dado não informado.";for(var n in a)if("0"!=n){o[i]=new Array(6);var t=null!==a[n][4]?a[n][4]:"img/camera.jpg";o[i][0]='<img class="img-circle media-object" src='+t+' height="64" width="64">',o[i][1]=null!==a[n][0]?a[n][0]:r,o[i][2]=null!==a[n][1]?a[n][1]:r,o[i][3]=null!==a[n][2]?a[n][2]:r,o[i][4]=null!==a[n][3]?a[n][3]:r,o[i][5]='<button type="button" onclick="location.href=\'visualizar-osc.html#'+n+'\';" class="btn btn-info"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> Detalhar</button>',i++}if(void 0!==o[0]){var s=$("#resultadoconsulta_formato_dados").DataTable({responsive:!0,processing:!0,deferLoading:1e3,deferRender:!0,searching:!1,data:o,dom:"Bfrtip",bPaginate:!1,bSort:!0,aaSorting:[[1,"asc"]],columns:[{title:"",width:50},{title:"Nome da OSC",width:200},{title:"CNPJ"},{title:"Natureza Jurídica"},{title:"Endereço"},{title:"Detalhar"}],aoColumnDefs:[{bSortable:!1,aTargets:[0]},{bSortable:!1,aTargets:[5]},{bSortable:!1,aTargets:[4]}],autoWidth:!0});s.destroy(),s.draw(),$("#resultadoconsulta_formato_dados").show(),$("#loading").addClass("hide")}else $("#modalMensagem").modal({backdrop:"static",keyboard:!1}),$("#modalTitle").text("Nenhuma OSC encontrada!"),"avancado"!==z&&"municipio"!==z?$("#modalConteudo").text('Sua pesquisa "'+decodeURIComponent(J)+'" não retornou nenhuma OSC.'):$("#modalConteudo").text("Sua pesquisa não retornou nenhuma OSC."),$("#modalMensagem").modal("show")}else $("#modalMensagem").modal({backdrop:"static",keyboard:!1}),$("#modalTitle").text("Nenhuma OSC encontrada!"),"avancado"!==z&&"municipio"!==z?$("#modalConteudo").text('Sua pesquisa "'+decodeURIComponent(J)+'" não retornou nenhuma OSC.'):$("#modalConteudo").text("Sua pesquisa não retornou nenhuma OSC."),$("#modalMensagem").modal("show")}}),$("#resultadoconsulta_formato_dados").on("draw.dt",function(){verificarContraste()})}function i(a){for(var e in a)if("0"!=e){var o=function(a,e,o){if(""!==e&&null!==e||null!==o&&""!==o){var i=new PruneCluster.Marker(e,o);return i.data.ID=a,P.PrepareLeafletMarker=function(a,e){a.on("click",function(){!function(a,e){e.bindPopup('<img id="loading" src="img/loading.gif" style="padding-top: 10px; padding-left: 10px;"/>').openPopup(),$.ajax({url:B.OSCPopUpByID(a),type:"GET",dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(o){if(void 0!==o){var i=(null!==o.tx_endereco?o.tx_endereco:"")+" - "+(null!==o.tx_bairro?o.tx_bairro:""),r='<div class="mapa_organizacao clearfix"><span id="spantitle" class="magneticTooltip"><button id="title" class="btn-link"  onclick=location.href="visualizar-osc.html#'+a+'"><h4>'+(null!==o.tx_nome_osc?o.tx_nome_osc:"Dado não informado.")+'</h4></button></span><div class="coluna1"><strong></strong><strong>Endereço: </strong>'+i+"<br><strong>Atividade Econômica: </strong>"+(null!==o.tx_nome_atividade_economica?o.tx_nome_atividade_economica:"Dado não informado.")+"<br><strong>Natureza Jurídica: </strong>"+(null!==o.tx_nome_natureza_juridica?o.tx_nome_natureza_juridica:"Dado não informado.")+'<br><br><div align="center"><button type = button class="btn btn-info" onclick=location.href="visualizar-osc.html#'+a+'"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> Detalhar</button></div></div></div>';e.bindPopup(r).openPopup()}}})}(e.ID,a)})},P.RegisterMarker(i),P}return null}(e,a[e][0],a[e][1]);null!==o&&O.addLayer(o)}$("#loadingMapModal").hide(),P.ProcessView()}function r(a){var e=a.target;e.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||e.bringToFront(),"GO"==e.feature.properties.Name&&e.bringToBack(),U.update(e.feature.properties)}function n(a){l.resetStyle(a.target),U.update()}function t(a){var e=a.target;O.fitBounds(e.getBounds())}function s(a){return a>6e4?"#800026":a>45e3?"#E31A1C":a>3e4?"#FC4E2A":a>15e3?"#FEB24C":a>1e3?"#FED976":"#FFEDA0"}function c(a,e){var s;"regiao"==e||"todos"==e?s="labelClassRegiao":"estado"==e&&(s="labelClassEstado");for(var l in a){var u=L.divIcon({id:a[l].id_regiao,className:s,html:"<p>"+a[l].nr_quantidade_osc_regiao+"</p>"});b[a[l].id_regiao]=a[l].nr_quantidade_osc_regiao;var m=function(a,e,s,l,u){if(""!==s&&null!==s||null!==l&&""!==l){var m;return"regiao"==u||"todos"==u?m=L.marker([s,l],{icon:a}).on("click",function(a){var e=a.target.options.icon.options.id;$("#loadingMapModal").show(),$.ajax({url:B.ClusterEstadoPorRegiao(e),type:"GET",dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(i){if(o(urlRota,N),void 0!==i.length){for(var r=0,n=0;n<i.length;n++)r+=i[n].nr_quantidade_osc_regiao;d(r)}else d(Object.keys(i).length-1);void 0!==i&&(O.setView([a.target._latlng.lat,a.target._latlng.lng],5),O.removeLayer(a.target),delete M[e],c(i,"estado"))}})}):"estado"==u&&(m=L.marker([s,l],{icon:a}).on("click",function(a){var e=a.target.options.icon.options.id;$("#loadingMapModal").show(),$.ajax({url:B.OSCByStateInMap(e),type:"GET",dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(s){if(o(urlRota,N),void 0!==s.length){for(var c=0,l=0;l<s.length;l++)c+=s[l].nr_quantidade_osc_regiao;d(c)}else d(Object.keys(s).length-1);if(void 0!==s){O.setView([a.target._latlng.lat,a.target._latlng.lng],6),O.removeLayer(a.target);var u=g[e];u.off(),u.on({mouseover:r,mouseout:n,click:t}),i(s)}}})})),m}}(u,a[l].id_regiao,a[l].geo_lat_centroid_regiao,a[l].geo_lng_centroid_regiao,e);v.addLayer(m),"estado"==e?f[a[l].id_regiao]=m:"regiao"!=e&&"todos"!=e||(M[a[l].id_regiao]=m)}y||(v.addTo(O),y=!0),$("#loadingMapModal").hide()}function d(a){$(".pagination").pagination({items:a,itemsOnPage:10,hrefTextPrefix:"#",prevText:"Anterior",nextText:"Próximo",onPageClick:function(a){!function(a){null===a&&(a=0);var e=10*parseInt(a)-10;"avancado"==z?(urlRota=B.ConsultaAvancadaLista(e),N=!0):"municipio"==z?urlRota=B.OSCByCounty(J,e):"estado"==z?urlRota=B.OSCByState(J,e):"regiao"==z?urlRota=B.OSCByRegion(J,e):"todos"==z?urlRota=B.AllOSC(e):"organizacao"==z&&(urlRota=B.OSCByName(getParameter("organizacao"),e,getParameter("tipoBusca")));o(urlRota,N)}(a)}})}var l,u,m,p=new Util,b={},_={},g={},f={},M={},v=L.layerGroup(),A=L.layerGroup(),h=L.layerGroup(),y=!1,R=!0,N=!1,I=!1,E="",x={},C="",j=18,X={center:new L.LatLng(-16.55555555,-60.55555555),zoom:4,minZoom:4},O=new L.Map("map",X),P=new PruneClusterForLeaflet,S=L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{maxZoom:j,attribution:'&copy; <a href="https://osm.org/copyright">OpenStreetMap</a>'}),T=L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYW9zY3MiLCJhIjoiY2owbDJpYWxwMDM3dTMzbzh6dDU2bnpzdyJ9._dh2UCWnAeNeG0ZL5sQ5gA",{id:"mapbox.dark",attribution:'Map data &copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://mapbox.com">Mapbox</a>'}),q=L.tileLayer("http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]});O.addLayer(q),O.addLayer(T),O.addLayer(S);var F=new L.Control.FullScreen;O.addControl(F);var D,z,B=new Rotas,G=void 0!==window.location.href.split("?")[1]?window.location.href.split("?")[1].split("="):null,w=$("#buscarPerfil .tab-content");if(w.find(".btn.btn-primary").on("click",function(){var a=w.find(".tab-pane.fade.active.in"),o=a.attr("id"),i=a.find(".form-control").val();i=e(i.trim()).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,",").replace(/\+{2,}/g,"_"),"organizacao"==o&&""!==i?(u="./resultado-consulta.html?"+o+"="+i+"&tipoBusca=0",location.href=u):""!==(i=$(".response").val())?(u="./resultado-consulta.html?"+o+"="+i,location.href=u):$("#errorLabel").removeClass("hide")}),$("#organizacao .form-control").autocomplete({minLength:3,source:function(a,o){C=e(a.term.trim()).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,","),$.ajax({url:B.AutocompleteOSCByName(C,10,0),type:"GET",dataType:"json",success:function(a){o($.map(a,function(a){return{label:a.tx_nome_osc,value:a.tx_nome_osc,id:a.id_osc}}))},error:function(a){o([])}})},select:function(a,o){u="./resultado-consulta.html?organizacao="+e(o.item.value.trim()).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,",").replace(/\+{2,}/g,"_")+"&tipoBusca=1",location.href=u}}),$("#municipio .form-control").autocomplete({minLength:3,source:function(a,o){$.ajax({url:B.AutocompleteOSCByCounty(e(a.term).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,","),25),type:"GET",dataType:"json",success:function(a){o($.map(a,function(a){return{label:a.edmu_nm_municipio+" - "+a.eduf_sg_uf,value:a.edmu_nm_municipio+" - "+a.eduf_sg_uf,id:a.edmu_cd_municipio}}))},error:function(a){o([])}})},select:function(a,e){$(".response").val(e.item.id),u="./resultado-consulta.html?municipio="+e.item.id,location.href=u}}),$("#estado .form-control").autocomplete({minLength:3,source:function(a,o){$.ajax({url:B.AutocompleteOSCByState(e(a.term).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,","),10),type:"GET",dataType:"json",success:function(a){o($.map(a,function(a){return{label:a.eduf_nm_uf,value:a.eduf_nm_uf,id:a.eduf_cd_uf}}))},error:function(){o([])}})},select:function(a,e){$(".response").val(e.item.id),u="./resultado-consulta.html?estado="+e.item.id,location.href=u}}),$("#regiao .form-control").autocomplete({minLength:3,source:function(a,o){$.ajax({url:B.AutocompleteOSCByRegion(e(a.term).replace(/ /g,"_").replace(/[\/|\\|\||:|#|@|$|&|!|?|(|)|\[|\]]/g,"").replace(/\./g,","),10),type:"GET",dataType:"json",success:function(a){o($.map(a,function(a){return{label:a.edre_nm_regiao,value:a.edre_nm_regiao,id:a.edre_cd_regiao}}))},error:function(){o([])}})},select:function(a,e){$(".response").val(e.item.id),u="./resultado-consulta.html?regiao="+e.item.id,location.href=u}}),$(".ui-autocomplete-input").keypress(function(a){if(13==a.which)return $(".btn-primary").click(),$(".ui-menu-item").hide(),!1}),null!==G){z=G[0];var J=G[1];if(J=J.replace(/\./g,""),J=J.split("&")[0],"organizacao"==z)urlRota=B.OSCByName(getParameter("organizacao"),0,getParameter("tipoBusca")),D=B.OSCByNameInMap(getParameter("organizacao"),getParameter("tipoBusca")),R=!1,I=!0;else if("municipio"==z)urlRota=B.OSCByCounty(J,0),D=B.OSCByCountyInMap(J),R=!1,I=!0,m=J,E="do município ";else if("estado"==z)urlRota=B.OSCByState(J,0),D=B.ClusterEstadoPorRegiao(J),I=!0,m=J,E="do estado ";else if("regiao"==z)urlRota=B.OSCByRegion(J,0),D=B.ClusterRegiao(J),I=!0,m=J,E="da região ";else if("avancado"==z){if(x.avancado=window.localStorage.getItem("params_busca_avancada"),"{}"==x.avancado||p.contains('{"ipeadata":{',x.avancado)?(z="todos",D=B.ClusterPais(),urlRota=B.AllOSC(0)):(urlRota=B.ConsultaAvancadaLista(0),D=B.ConsultaAvancadaMapa(),R=!1,N=!0,function(a){var e=JSON.parse(a),o=e.dadosGerais,i="<b><u>Filtros utilizados:</u></b> ",r=!1;if(o){o.tx_razao_social_osc&&(i+="<b><i>Nome da OSC:</i></b> "+o.tx_razao_social_osc+", "),o.tx_nome_regiao&&(i+="<b><i>Região:</i></b> "+o.tx_nome_regiao+", "),o.tx_nome_fantasia_osc&&(i+="<b><i>Nome Fantasia:</i></b> "+o.tx_nome_fantasia_osc+", "),o.tx_nome_uf&&(i+="<b><i>Estado:</i></b> "+o.tx_nome_uf+", "),o.cd_identificador_osc&&(i+="<b><i>CNPJ:</i></b> "+o.cd_identificador_osc+", "),o.cd_situacao_imovel_osc&&$.ajax({url:B.SituacaoImovel_id(o.cd_situacao_imovel_osc),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Situação do Imóvel:</i></b> "+a[0].tx_nome_situacao_imovel+", ")}}),(o.anoFundacaoMIN||o.anoFundacaoMAX)&&(i+="<b><i>Ano de Fundação</i></b> ",o.anoFundacaoMIN&&(i+="<b><i>maior que:</i></b> "+o.anoFundacaoMIN+", "),o.anoFundacaoMAX&&(i+="<b><i>menor que:</i></b> "+o.anoFundacaoMAX+", ")),o.tx_nome_municipio&&(i+="<b><i>Município:</i></b> "+o.tx_nome_municipio+", ");var n="<b><i>Natureza Jurídica:</i></b> ";o.naturezaJuridica_associacaoPrivada&&(n+="Associação Privada, ",r=!0),o.naturezaJuridica_fundacaoPrivada&&(n+="Fundação Privada, ",r=!0),o.naturezaJuridica_organizacaoReligiosa&&(n+="Organização Religiosa, ",r=!0),o.naturezaJuridica_organizacaoSocial&&(n+="Organização Social, ",r=!0),o.naturezaJuridica_outra&&(n+="Não informado, ",r=!0),r&&(i+=n),o.cd_objetivo_osc&&$.ajax({url:B.Objetivos_ODS_id(o.cd_objetivo_osc),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Objetivos do Desenvolvimento Sustentável - ODS:</i></b> "+a[0].tx_nome_objetivo_projeto+", ")}}),o.cd_meta_osc&&$.ajax({url:B.Metas_ODS_Id(o.cd_meta_osc),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Metas Relacionadas ao ODS:</i></b> "+a[0].tx_nome_meta_projeto+", ")}})}var t=e.atividadeEconomica;t&&(i+="<b><i>Atividade Econômica (CNAE):</i></b> "+t.tx_atividade_economica+", ");var s=e.areasSubareasAtuacao;if(s){var c=[];$.ajax({url:B.AreaAtuacao(),type:"GET",async:!1,dataType:"json",error:function(a){console.log("Erro no ajax: ")},success:function(a){for(var e in s){var o=parseInt(e.split("cd_area_atuacao-")[1]);void 0!=o&&$.each(a,function(a,e){o==e.cd_area_atuacao&&-1===c.indexOf(e.tx_nome_area_atuacao)&&c.push(e.tx_nome_area_atuacao)})}$.ajax({url:B.SubAreaAtuacao(),type:"GET",async:!1,dataType:"json",error:function(a){console.log("Erro no ajax: ")},success:function(a){for(e in s){var o=parseInt(e.split("cd_subarea_atuacao-")[1]);void 0!=o&&$.each(a,function(a,e){o==e.cd_subarea_atuacao&&-1===c.indexOf(e.tx_nome_subarea_atuacao)&&c.push(e.tx_nome_subarea_atuacao)})}c.length>0&&(i+="<b><i>Área e Subárea de Atuação:</i></b> "+c.join(", ")+", ")}})}})}var d=e.titulacoesCertificacoes;if(d){var l=[];$.ajax({url:B.Busca_Certificado(),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){var e={1:"titulacao_entidadeAmbientalista",2:"titulacao_cebasEducacao",3:"titulacao_cebasSaude",4:"titulacao_oscip",5:"titulacao_utilidadePublicaFederal",6:"titulacao_cebasAssistenciaSocial",7:"titulacao_utilidadePublicaEstadual",8:"titulacao_utilidadePublicaMunicipal",9:"titulacao_naoPossui"};for(var o in d)for(var r in e)if(e[r]==o)for(var n in a)a[n].cd_certificado==r&&-1===l.indexOf(a[n].tx_nome_certificado)&&l.push(a[n].tx_nome_certificado);l.length>0&&(i+="<b><i>Titulações e Certificações:</i></b> "+l.join(", ")+", ")}})}var u=e.relacoesTrabalhoGovernanca;u&&(u.tx_nome_dirigente&&(i+="<b><i>Nome do Dirigente:</i></b> "+u.tx_nome_dirigente+", "),u.tx_cargo_dirigente&&(i+="<b><i>Cargo do Dirigente:</i></b> "+u.tx_cargo_dirigente+", "),u.tx_nome_conselheiro&&(i+="<b><i>Nome do Membro do Conselho Fiscal:</i></b> "+u.tx_nome_conselheiro+", "),(u.totalTrabalhadoresMIN||u.totalTrabalhadoresMAX)&&(i+="<b><i>Total de Trabalhadores</i></b> ",u.totalTrabalhadoresMIN&&(i+="<b><i>maior que:</i></b> "+u.totalTrabalhadoresMIN+", "),u.totalTrabalhadoresMAX&&(i+="<b><i>menor que:</i></b> "+u.totalTrabalhadoresMAX+", ")),(u.totalEmpregadosMIN||u.totalEmpregadosMAX)&&(i+="<b><i>Total de Empregados</i></b> ",u.totalEmpregadosMIN&&(i+="<b><i>maior que:</i></b> "+u.totalEmpregadosMIN+", "),u.totalEmpregadosMAX&&(i+="<b><i>menor que:</i></b> "+u.totalEmpregadosMAX+", ")),(u.trabalhadoresDeficienciaMIN||u.trabalhadoresDeficienciaMAX)&&(i+="<b><i>Trabalhadores com Deficiência</i></b> ",u.trabalhadoresDeficienciaMIN&&(i+="<b><i>maior que:</i></b> "+u.trabalhadoresDeficienciaMIN+", "),u.trabalhadoresDeficienciaMAX&&(i+="<b><i>menor que:</i></b> "+u.trabalhadoresDeficienciaMAX+", ")),(u.trabalhadoresVoluntariosMIN||u.trabalhadoresVoluntariosMAX)&&(i+="<b><i>Trabalhadores voluntários</i></b> ",u.totalTrabalhadoresMIN&&(i+="<b><i>maior que:</i></b> "+u.trabalhadoresVoluntariosMIN+", "),u.totalTrabalhadoresMAX&&(i+="<b><i>menor que:</i></b> "+u.trabalhadoresVoluntariosMAX+", ")));var m=e.espacosParticipacaoSocial;m&&(m.cd_conselho&&$.ajax({url:B.Conselho_id(m.cd_conselho),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Nome do Conselho:</i></b> "+a[0].tx_nome_conselho+", ")}}),m.tx_nome_representante_conselho&&(i+="<b><i>Nome de representante conselho:</i></b> "+m.tx_nome_representante_conselho+", "),m.cd_tipo_participacao&&$.ajax({url:B.Titularidade_id(m.cd_tipo_participacao),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Titularidade:</i></b> "+a[0].tx_nome_tipo_participacao+", ")}}),m.dt_data_inicio_conselho&&(i+="<b><i>Data de Início de Vigência:</i></b> "+m.dt_data_inicio_conselho+", "),m.dt_data_fim_conselho&&(i+="<b><i>Data de Fim de Vigência:</i></b> "+m.dt_data_fim_conselho+", "),m.cd_conferencia&&$.ajax({url:B.Conferencia_id(m.cd_conferencia),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Nome da Conferência:</i></b> "+a[0].tx_nome_conferencia+", ")}}),m.cd_forma_participacao_conferencia&&$.ajax({url:B.FormaParticipacaoConferencia_id(m.cd_forma_participacao_conferencia),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Forma de Participação na Conferência:</i></b> "+a[0].tx_nome_forma_participacao_conferencia+", ")}}),(m.anoRealizacaoConferenciaMIN||m.anoRealizacaoConferenciaMAX)&&(i+="<b><i>Ano de Realização da Conferência</i></b> ",m.anoRealizacaoConferenciaMIN&&(i+="<b><i>maior que:</i></b> "+m.anoRealizacaoConferenciaMIN+", "),m.anoRealizacaoConferenciaMAX&&(i+="<b><i>menor que:</i></b> "+m.anoRealizacaoConferenciaMAX+", ")));var p=e.projetos;p&&(p.tx_nome_projeto&&(i+="<b><i>Nome do Projeto:</i></b> "+p.tx_nome_projeto+", "),p.cd_status_projeto&&$.ajax({url:B.SituacaoProjeto_id(p.cd_status_projeto),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Situação do projeto:</i></b> "+a[0].tx_nome_status_projeto+", ")}}),p.dt_data_inicio_projeto&&(i+="<b><i>Data de Início Projeto:</i></b> "+p.dt_data_inicio_projeto+", "),p.dt_data_fim_projeto&&(i+="<b><i>Data de Fim Projeto:</i></b> "+p.dt_data_fim_projeto+", "),p.cd_abrangencia_projeto&&$.ajax({url:B.AbrangenciaProjeto_id(p.cd_abrangencia_projeto),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Abrangência de atuação:</i></b> "+a[0].tx_nome_abrangencia_projeto+", ")}}),p.cd_zona_atuacao_projeto&&$.ajax({url:B.ZonaAtuacaoProjeto_id(p.cd_zona_atuacao_projeto),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Zona de Atuação:</i></b> "+a[0].tx_nome_zona_atuacao+", ")}}),p.cd_origem_fonte_recursos_projeto&&$.ajax({url:B.FontesRecursosProjeto_id(p.cd_origem_fonte_recursos_projeto),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Fontes de Recursos:</i></b> "+a[0].tx_nome_origem_fonte_recursos_projeto+", ")}}),p.cd_objetivo_projeto&&$.ajax({url:B.Objetivos_ODS_id(p.cd_objetivo_projeto),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Objetivos do Desenvolvimento Sustentável - ODS para Projeto:</i></b> "+a[0].tx_nome_objetivo_projeto+", ")}}),p.cd_meta_projeto&&$.ajax({url:B.Metas_ODS_Id(p.cd_meta_projeto),type:"GET",async:!1,dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){a.length>0&&(i+="<b><i>Metas Relacionadas ao ODS para projeto:</i></b> "+a[0].tx_nome_meta_projeto+", ")}}),p.tx_nome_financiador&&(i+="<b><i>Financiadores do Projeto:</i></b> "+p.tx_nome_financiador+", "),p.tx_nome_regiao_localizacao_projeto&&(i+="<b><i>Local de Execução:</i></b> "+p.tx_nome_regiao_localizacao_projeto+", "),p.tx_nome_publico_beneficiado&&(i+="<b><i>Público Beneficiado:</i></b> "+p.tx_nome_publico_beneficiado+", "),p.tx_nome_osc_parceira_projeto&&(i+="<b><i>OSC Parceiras:</i></b> "+p.tx_nome_osc_parceira_projeto+", "),(p.totalBeneficiariosMIN||p.totalBeneficiariosMAX)&&(i+="<b><i>Total de Beneficiários</i></b> ",p.totalBeneficiariosMIN&&(i+="<b><i>maior que:</i></b> "+p.totalBeneficiariosMIN+", "),p.totalBeneficiariosMAX&&(i+="<b><i>menor que:</i></b> "+p.totalBeneficiariosMAX+", ")),(p.valorTotalMIN||p.valorTotalMAX)&&(i+="<b><i>Valor Total Projeto</i></b> ",p.valorTotalMIN&&(i+="<b><i>maior que:</i></b> "+p.valorTotalMIN+", "),p.valorTotalMAX&&(i+="<b><i>menor que:</i></b> "+p.valorTotalMAX+", ")),(p.valorRecebidoMIN||p.valorRecebidoMAX)&&(i+="<b><i>Valor Recebido Projeto</i></b> ",p.valorRecebidoMIN&&(i+="<b><i>maior que:</i></b> "+p.valorRecebidoMIN+", "),p.valorRecebidoMAX&&(i+="<b><i>menor que:</i></b> "+p.valorRecebidoMAX+", ")));var b=e.fontesRecursos;b&&((b.anoFonteRecursoMIN||b.anoFonteRecursoMAX)&&(i+="<b><i>Fontes de recursos anuais da OSC Ano</i></b> ",b.anoFonteRecursoMIN&&(i+="<b><i>maior que:</i></b> "+b.anoFonteRecursoMIN+", "),b.anoFonteRecursoMAX&&(i+="<b><i>menor que:</i></b> "+b.anoFonteRecursoMAX+", ")),(b.rendimentosFinanceirosReservasContasCorrentesPropriasMIN||b.rendimentosFinanceirosReservasContasCorrentesPropriasMAX)&&(i+="<b><i>Rendimentos financeiros de reservas ou contas correntes próprias</i></b> ",b.rendimentosFinanceirosReservasContasCorrentesPropriasMIN&&(i+="<b><i>maior que:</i></b> "+b.rendimentosFinanceirosReservasContasCorrentesPropriasMIN+", "),b.rendimentosFinanceirosReservasContasCorrentesPropriasMAX&&(i+="<b><i>menor que:</i></b> "+b.rendimentosFinanceirosReservasContasCorrentesPropriasMAX+", ")),(b.rendimentosFundosPatrimoniaisMIN||b.rendimentosFundosPatrimoniaisMAX)&&(i+="<b><i>Rendimentos de fundos patrimoniais</i></b> ",b.rendimentosFundosPatrimoniaisMIN&&(i+="<b><i>maior que:</i></b> "+b.rendimentosFundosPatrimoniaisMIN+", "),b.rendimentosFundosPatrimoniaisMAX&&(i+="<b><i>menor que:</i></b> "+b.rendimentosFundosPatrimoniaisMAX+", ")),(b.mensalidadesContribuicoesAssociadosMIN||b.mensalidadesContribuicoesAssociadosMAX)&&(i+="<b><i>Mensalidades ou contribuições de associados</i></b> ",b.mensalidadesContribuicoesAssociadosMIN&&(i+="<b><i>maior que:</i></b> "+b.mensalidadesContribuicoesAssociadosMIN+", "),b.mensalidadesContribuicoesAssociadosMAX&&(i+="<b><i>menor que:</i></b> "+b.mensalidadesContribuicoesAssociadosMAX+", ")),(b.vendaBensDireitosMIN||b.vendaBensDireitosMAX)&&(i+="<b><i>Venda de bens e direitos</i></b> ",b.vendaBensDireitosMIN&&(i+="<b><i>maior que:</i></b> "+b.vendaBensDireitosMIN+", "),b.vendaBensDireitosMAX&&(i+="<b><i>menor que:</i></b> "+b.vendaBensDireitosMAX+", ")),(b.premiosRecebidosMIN||b.premiosRecebidosMAX)&&(i+="<b><i>Prêmios recebidos</i></b> ",b.premiosRecebidosMIN&&(i+="<b><i>maior que:</i></b> "+b.premiosRecebidosMIN+", "),b.premiosRecebidosMAX&&(i+="<b><i>menor que:</i></b> "+b.premiosRecebidosMAX+", ")),(b.vendaProdutosMIN||b.vendaProdutosMAX)&&(i+="<b><i>Venda de produtos</i></b> ",b.vendaProdutosMIN&&(i+="<b><i>maior que:</i></b> "+b.vendaProdutosMIN+", "),b.vendaProdutosMAX&&(i+="<b><i>menor que:</i></b> "+b.vendaProdutosMAX+", ")),(b.prestacaoServicosMIN||b.prestacaoServicosMAX)&&(i+="<b><i>Prestação de serviços</i></b> ",b.prestacaoServicosMIN&&(i+="<b><i>maior que:</i></b> "+b.prestacaoServicosMIN+", "),b.prestacaoServicosMAX&&(i+="<b><i>menor que:</i></b> "+b.prestacaoServicosMAX+", ")),(b.empresasPublicasSociedadesEconomiaMistaMIN||b.empresasPublicasSociedadesEconomiaMistaMAX)&&(i+="<b><i>Empresas públicas ou sociedades de economia mista</i></b> ",b.empresasPublicasSociedadesEconomiaMistaMIN&&(i+="<b><i>maior que:</i></b> "+b.empresasPublicasSociedadesEconomiaMistaMIN+", "),b.empresasPublicasSociedadesEconomiaMistaMAX&&(i+="<b><i>menor que:</i></b> "+b.empresasPublicasSociedadesEconomiaMistaMAX+", ")),(b.acordoOrganismosMultilateraisMIN||b.acordoOrganismosMultilateraisMAX)&&(i+="<b><i>Acordo com organismos multilaterais</i></b> ",b.acordoOrganismosMultilateraisMIN&&(i+="<b><i>maior que:</i></b> "+b.acordoOrganismosMultilateraisMIN+", "),b.acordoOrganismosMultilateraisMAX&&(i+="<b><i>menor que:</i></b> "+b.acordoOrganismosMultilateraisMAX+", ")),(b.parceriaGovernoFederalMIN||b.parceriaGovernoFederalMAX)&&(i+="<b><i>Parceria com o governo federal</i></b> ",b.parceriaGovernoFederalMIN&&(i+="<b><i>maior que:</i></b> "+b.parceriaGovernoFederalMIN+", "),b.parceriaGovernoFederalMAX&&(i+="<b><i>menor que:</i></b> "+b.parceriaGovernoFederalMAX+", ")),(b.parceriaGovernoEstadualMIN||b.parceriaGovernoEstadualMAX)&&(i+="<b><i>Parceria com o governo estadual</i></b> ",b.parceriaGovernoEstadualMIN&&(i+="<b><i>maior que:</i></b> "+b.parceriaGovernoEstadualMIN+", "),b.parceriaGovernoEstadualMAX&&(i+="<b><i>menor que:</i></b> "+b.parceriaGovernoEstadualMAX+", ")),(b.parceriaGovernoMunicipalMIN||b.parceriaGovernoMunicipalMAX)&&(i+="<b><i>Parceria com o governo municipal</i></b> ",b.parceriaGovernoMunicipalMIN&&(i+="<b><i>maior que:</i></b> "+b.parceriaGovernoMunicipalMIN+", "),b.parceriaGovernoMunicipalMAX&&(i+="<b><i>menor que:</i></b> "+b.parceriaGovernoMunicipalMAX+", ")),(b.acordoGovernosEstrangeirosMIN||b.acordoGovernosEstrangeirosMAX)&&(i+="<b><i>Acordo com governos estrangeiros</i></b> ",b.acordoGovernosEstrangeirosMIN&&(i+="<b><i>maior que:</i></b> "+b.acordoGovernosEstrangeirosMIN+", "),b.acordoGovernosEstrangeirosMAX&&(i+="<b><i>menor que:</i></b> "+b.acordoGovernosEstrangeirosMAX+", ")),(b.parceriaOscBrasileirasMIN||b.parceriaOscBrasileirasMAX)&&(i+="<b><i>Parceria com OSCs brasileiras</i></b> ",b.parceriaOscBrasileirasMIN&&(i+="<b><i>maior que:</i></b> "+b.parceriaOscBrasileirasMIN+", "),b.parceriaOscBrasileirasMAX&&(i+="<b><i>menor que:</i></b> "+b.parceriaOscBrasileirasMAX+", ")),(b.parceriaOscEstrangeirasMIN||b.parceriaOscEstrangeirasMAX)&&(i+="<b><i>Parceria com OSCs estrangeiras</i></b> ",b.parceriaOscEstrangeirasMIN&&(i+="<b><i>maior que:</i></b> "+b.parceriaOscEstrangeirasMIN+", "),b.parceriaOscEstrangeirasMAX&&(i+="<b><i>menor que:</i></b> "+b.parceriaOscEstrangeirasMAX+", ")),(b.parceriaOrganizacoesReligiosasBrasileirasMIN||b.parceriaOrganizacoesReligiosasBrasileirasMAX)&&(i+="<b><i>Parceria com organizações religiosas brasileiras</i></b> ",b.parceriaOrganizacoesReligiosasBrasileirasMIN&&(i+="<b><i>maior que:</i></b> "+b.parceriaOrganizacoesReligiosasBrasileirasMIN+", "),b.parceriaOrganizacoesReligiosasBrasileirasMAX&&(i+="<b><i>menor que:</i></b> "+b.parceriaOrganizacoesReligiosasBrasileirasMAX+", ")),(b.parceriaOrganizacoesReligiosasEstrangeirasMIN||b.parceriaOrganizacoesReligiosasEstrangeirasMAX)&&(i+="<b><i>Parceria com organizações religiosas estrangeiras</i></b> ",b.parceriaOrganizacoesReligiosasEstrangeirasMIN&&(i+="<b><i>maior que:</i></b> "+b.parceriaOrganizacoesReligiosasEstrangeirasMIN+", "),b.parceriaOrganizacoesReligiosasEstrangeirasMAX&&(i+="<b><i>menor que:</i></b> "+b.parceriaOrganizacoesReligiosasEstrangeirasMAX+", ")),(b.empresasPrivadasBrasileirasMIN||b.empresasPrivadasBrasileirasMAX)&&(i+="<b><i>Empresas privadas brasileiras</i></b> ",b.empresasPrivadasBrasileirasMIN&&(i+="<b><i>maior que:</i></b> "+b.empresasPrivadasBrasileirasMIN+", "),b.empresasPrivadasBrasileirasMAX&&(i+="<b><i>menor que:</i></b> "+b.empresasPrivadasBrasileirasMAX+", ")),(b.EmpresasEstrangeirasMIN||b.EmpresasEstrangeirasMAX)&&(i+="<b><i>Empresas estrangeiras</i></b> ",b.EmpresasEstrangeirasMIN&&(i+="<b><i>maior que:</i></b> "+b.EmpresasEstrangeirasMIN+", "),b.EmpresasEstrangeirasMAX&&(i+="<b><i>menor que:</i></b> "+b.EmpresasEstrangeirasMAX+", ")),(b.doacoesPessoaJuridicaMIN||b.doacoesPessoaJuridicaMAX)&&(i+="<b><i>Doações de pessoa jurídica</i></b> ",b.doacoesPessoaJuridicaMIN&&(i+="<b><i>maior que:</i></b> "+b.doacoesPessoaJuridicaMIN+", "),b.doacoesPessoaJuridicaMAX&&(i+="<b><i>menor que:</i></b> "+b.doacoesPessoaJuridicaMAX+", ")),(b.doacoesPessoaFisicaMIN||b.doacoesPessoaFisicaMAX)&&(i+="<b><i>Doações de pessoa física</i></b> ",b.doacoesPessoaFisicaMIN&&(i+="<b><i>maior que:</i></b> "+b.doacoesPessoaFisicaMIN+", "),b.doacoesPessoaFisicaMAX&&(i+="<b><i>menor que:</i></b> "+b.doacoesPessoaFisicaMAX+", ")),(b.doacoesRecebidasFormaProdutosServicosComNFMIN||b.doacoesRecebidasFormaProdutosServicosComNFMAX)&&(i+="<b><i>Doações recebidas na forma de produtos e serviços (com NF)</i></b> ",b.doacoesRecebidasFormaProdutosServicosComNFMIN&&(i+="<b><i>maior que:</i></b> "+b.doacoesRecebidasFormaProdutosServicosComNFMIN+", "),b.doacoesRecebidasFormaProdutosServicosComNFMAX&&(i+="<b><i>menor que:</i></b> "+b.doacoesRecebidasFormaProdutosServicosComNFMAX+", ")),(b.voluntariadoMIN||b.voluntariadoMAX)&&(i+="<b><i>Voluntariado</i></b> ",b.voluntariadoMIN&&(i+="<b><i>maior que:</i></b> "+b.voluntariadoMIN+", "),b.voluntariadoMAX&&(i+="<b><i>menor que:</i></b> "+b.voluntariadoMAX+", ")),(b.isencoesMIN||b.isencoesMAX)&&(i+="<b><i>Isenções:</i></b> ",b.isencoesMIN&&(i+="<b><i>maior que:</i></b> "+b.isencoesMIN+", "),b.isencoesMAX&&(i+="<b><i>menor que:</i></b> "+b.isencoesMAX+", ")),(b.imunidadesMIN||b.imunidadesMAX)&&(i+="<b><i>Imunidades</i></b> ",b.imunidadesMIN&&(i+="<b><i>maior que:</i></b> "+b.imunidadesMIN+", "),b.imunidadesMAX&&(i+="<b><i>menor que:</i></b> "+b.imunidadesMAX+", ")),(b.bensRecebidosDireitoUsoMIN||b.bensRecebidosDireitoUsoMAX)&&(i+="<b><i>Bens recebidos em direito de uso</i></b> ",b.bensRecebidosDireitoUsoMIN&&(i+="<b><i>maior que:</i></b> "+b.bensRecebidosDireitoUsoMIN+", "),b.bensRecebidosDireitoUsoMAX&&(i+="<b><i>menor que:</i></b> "+b.bensRecebidosDireitoUsoMAX+", ")),(b.doacoesRecebidasFormaProdutosServicosSemNFMIN||b.doacoesRecebidasFormaProdutosServicosSemNFMAX)&&(i+="<b><i>Doações recebidas na forma de produtos e serviços (sem NF)</i></b> ",b.doacoesRecebidasFormaProdutosServicosSemNFMIN&&(i+="<b><i>maior que:</i></b> "+b.doacoesRecebidasFormaProdutosServicosSemNFMIN+", "),b.doacoesRecebidasFormaProdutosServicosSemNFMAX&&(i+="<b><i>menor que:</i></b> "+b.valorMAX+", "))),$("#filtros p").html(i)}(x.avancado)),p.contains("IDH M",x.avancado))p.carregaAjax(B.Ipea_Data("13IDHM",2010),"GET",null);p.contains("IDHM R",x.avancado)&&p.carregaAjax(B.Ipea_Data("13IDHM_R",2010),"GET",null),p.contains("IDHM E",x.avancado)&&p.carregaAjax(B.Ipea_Data("13IDHM_E",2010),"GET",null),p.contains("IDHM L",x.avancado)&&p.carregaAjax(B.Ipea_Data("13IDHM_L",2010),"GET",null),p.contains("Freq",x.avancado)&&p.carregaAjax(B.Ipea_Data("13I_FREQ_PROP",2010),"GET",null)}else console.log("ERRO de URL!")}else z="todos",D=B.ClusterPais(),urlRota=B.AllOSC(0);if(I){var k="Análise "+E;$("#analisePerfil").text(k),$("#analisePerfil").attr("href","analise-perfil.html?localidade="+m)}var U=L.control();$("#loadingMapModal").show();var V;N?(type_http="POST",V=x):(type_http="GET",V=null),$.ajax({url:D,type:type_http,dataType:"json",data:V,error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){if(""!==a&&void 0!==a&&"Nenhuma Organização encontrada!"!==a){o(urlRota,N);var e=0;if(R){if(void 0!==a.length)for(var r=0;r<a.length;r++)e+=a[r].nr_quantidade_osc_regiao;d(e),$("#legenda p").append(e),c(a,z)}else d(e=Object.keys(a).length-1),$("#legenda p").append(e),i(a)}else $("#modalMensagem").modal({backdrop:"static",keyboard:!1}),$("#modalTitle").text("Nenhuma OSC encontrada!"),"avancado"!==z&&"municipio"!==z?$("#modalConteudo").text('Sua pesquisa "'+decodeURIComponent(J)+'" não retornou nenhuma OSC.'):$("#modalConteudo").text("Sua pesquisa não retornou nenhuma OSC."),$("#modalMensagem").modal("show")}}),$.ajax({url:B.ClusterEstado(),type:"GET",dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){if(void 0!==a){var e={},u={};for(var m in a)e[a[m].tx_sigla_regiao]=a[m].nr_quantidade_osc_regiao,u[a[m].tx_sigla_regiao]=a[m].id_regiao;O.addControl(new L.Control.Layers({"Satélite":q,Contraste:T,Mapa:S},{"Mapa de calor":A,IDHM:h},{collapsed:!1})),function(a,e){var u;$.each(statesData.features,function(o){u=statesData.features[o].properties.Name,statesData.features[o].properties.density=a[u],statesData.features[o].properties.id=e[u]}),O.addLayer(A),O.addLayer(h),U.onAdd=function(a){return this._div=L.DomUtil.create("div","info"),this.update(),this._div},U.update=function(a){this._div.innerHTML="<h4>OSCs por Estado</h4>"+(a?"<b>"+a.Name+"</b><br />"+a.density+" OSCs.":"Passe o mouse sobre um estado")},U.addTo(O);var m=L.control({position:"bottomright"});m.onAdd=function(a){var e=L.DomUtil.create("div","info legend"),o=[0,1e3,15e3,3e4,45e3,6e4];e.innerHTML+="<h5>Escala de OSCs por estado</h5>";for(var i=0;i<o.length;i++)e.innerHTML+='<i style="background:'+s(o[i]+1)+'"></i> '+parseInt(o[i]+1)+(o[i+1]?"&ndash;"+o[i+1]+"<br>":"+");return e},m.addTo(O),l=L.geoJson(statesData,{style:function(a){return{fillColor:s(a.properties.density),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.6}},onEachFeature:function(a,e){e.on({mouseover:r,mouseout:n,click:function(a){var e=a.target;if(O.fitBounds(e.getBounds()),function(a){$("#loadingMapModal").show(),$.ajax({url:B.OSCByStateInMap(a),type:"GET",dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(a){if(o(urlRota,N),void 0!==a.length){for(var e=0,r=0;r<a.length;r++)e+=a[r].nr_quantidade_osc_regiao;d(e)}else d(Object.keys(a).length-1);void 0!==a&&i(a)}})}(e.feature.properties.id),void 0==M[e.feature.properties.Regiao]){var s=f[e.feature.properties.id];void 0!=s&&O.removeLayer(s)}else!function(a){var e=a.feature.properties.Regiao;$("#loadingMapModal").show(),$.ajax({url:B.ClusterEstadoPorRegiao(e),type:"GET",dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a)},success:function(i){if(o(urlRota,N),void 0!==i.length){for(var r=0,n=0;n<i.length;n++)r+=i[n].nr_quantidade_osc_regiao;d(r)}else d(Object.keys(i).length-1);if(void 0!==i){c(i,"estado");var t=M[e];O.removeLayer(t),delete M[e];var s=f[a.feature.properties.id];O.removeLayer(s)}}})}(e);e.off(),e.on({mouseover:r,mouseout:n,click:t})}}),A.addLayer(e),h.addLayer(e),g[e.feature.properties.id]=e,_[e.feature.properties.id]=e}}).addTo(O)}(e,u)}}}),O.on("zoomend",function(a){O.getZoom()==j&&(O.removeLayer(A),O.removeLayer(h))})});