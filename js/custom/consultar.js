"use strict";require(["jquery-ui","libs/jquery-mask/jquery.mask.min"],function(a){$(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(a,e){$(this).css(a),$("<div>").addClass("arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)}}}),$(".scroll").click(function(a){a.preventDefault(),$("html,body").animate({scrollTop:$(this.hash).offset().top},800)})}),require(["react"],function(a){require(["jquery-ui","rotas","jquery","select-boxit"],function(a){function e(a){return a=a.replace(/[ÀÁÂÃÄÅ]/g,"A"),a=a.replace(/[àáâãäå]/g,"a"),a=a.replace(/[ÉÈÊË]/g,"E"),a=a.replace(/[éèêë]/g,"e"),a=a.replace(/[ÍÌÎÏ]/g,"I"),a=a.replace(/[íìîï]/g,"i"),a=a.replace(/[ÓÒÔÕ]/g,"O"),a=a.replace(/[óòôõ]/g,"o"),a=a.replace(/[ÚÙÛÜ]/g,"U"),a=a.replace(/[úùûü]/g,"u"),a=a.replace(/[Ç]/g,"C"),a=a.replace(/[ç]/g,"c")}var o="js/controller.php",t=new Rotas,n=!0;$("#accordion .panel-heading").each(function(){$(this).click(function(){$(this).parent().parent().children().last().toggle("slow")})}),$(function(){$("#dt_data_inicio_conselho").datepicker({defaultDate:"+1w",changeYear:!0,changeMonth:!0,numberOfMonths:1,onClose:function(a){$("#dt_data_fim_conselho").datepicker("option","minDate",a)}}),$("#dt_data_fim_conselho").datepicker({defaultDate:"+1w",changeMonth:!0,changeYear:!0,numberOfMonths:1,onClose:function(a){$("#dt_data_inicio_conselho").datepicker("option","maxDate",a)}}),$("#dt_data_inicio_projeto").datepicker({defaultDate:"+1w",changeYear:!0,changeMonth:!0,numberOfMonths:1,onClose:function(a){$("#dt_data_fim_projeto").datepicker("option","minDate",a)}}),$("#dt_data_fim_projeto").datepicker({defaultDate:"+1w",changeMonth:!0,changeYear:!0,numberOfMonths:1,onClose:function(a){$("#dt_data_inicio_projeto").datepicker("option","maxDate",a)}})}),$(function(){$("div[id^='slider-range-']").each(function(){$(this).parent().find("input");var a=$(this).parent().find("label").attr("for");if("valor_dinheiro"==a)$(this).slider({range:!0,animate:!0,min:0,max:1e6,step:100,values:[0,1e6],slide:function(a,e){$(a.target.previousElementSibling).find(".min").val(e.values[0].toLocaleString("pt-BR",{minimumFractionDigits:2})),$(a.target.previousElementSibling).find(".max").val(e.values[1].toLocaleString("pt-BR",{minimumFractionDigits:2}))}});else if("ano"==a){var e=(new Date).getFullYear();$(this).slider({range:!0,min:1900,max:e,values:[1900,e],slide:function(a,e){$(a.target.previousElementSibling).find(".min").val(e.values[0]),$(a.target.previousElementSibling).find(".max").val(e.values[1])}})}else $(this).slider({range:!0,min:0,max:1e3,values:[0,1e3],slide:function(a,e){$(a.target.previousElementSibling).find(".min").val(e.values[0]),$(a.target.previousElementSibling).find(".max").val(e.values[1])}})})});var c=!0;$("#cd_area_atuacao").mousedown(function(){c&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.AreaAtuacao()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_area_atuacao");$.each(a,function(a,o){$("<option>").val(o.cd_area_atuacao).text(o.tx_nome_area_atuacao).appendTo(e)}),c=!1}}})});var i;$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.SubAreaAtuacao()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){i=a}}),$("#cd_area_atuacao").change(function(){var a=$(this).val();if(null!=i){var e=$("#cd_subarea_atuacao"),o="";$.each(i,function(e,t){a==t.cd_area_atuacao&&(o+='<label><input id="cd_subarea_atuacao-'+t.cd_subarea_atuacao+'" type="checkbox">'+t.tx_nome_subarea_atuacao+"</label>")}),""==o?$(".subareaAtuacao").css("visibility","hidden"):$(".subareaAtuacao").css("visibility","visible"),e.html(o)}});var r=!0;$("#cd_conselho").mousedown(function(){r&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.Conselho()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_conselho");$.each(a,function(a,o){$("<option>").val(o.cd_conselho).text(o.tx_nome_conselho).appendTo(e)}),r=!1}}})});var l=!0;$("#cd_tipo_participacao").mousedown(function(){l&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.Titularidade()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_tipo_participacao");$.each(a,function(a,o){$("<option>").val(o.cd_tipo_participacao).text(o.tx_nome_tipo_participacao).appendTo(e)}),l=!1}}})}),$("#cd_situacao_imovel_osc").mousedown(function(){n&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.SituacaoImovel()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_situacao_imovel_osc");$.each(a,function(a,o){$("<option>").val(o.cd_situacao_imovel).text(o.tx_nome_situacao_imovel).appendTo(e)}),n=!1}}})});var u=!0;$("#cd_origem_fonte_recursos_projeto").mousedown(function(){u&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.FontesRecursosProjeto()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_origem_fonte_recursos_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_origem_fonte_recursos_projeto).text(o.tx_nome_origem_fonte_recursos_projeto).appendTo(e)}),u=!1}}})});var s=!0;$("#cd_zona_atuacao_projeto").mousedown(function(){s&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.ZonaAtuacaoProjeto()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_zona_atuacao_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_zona_atuacao_projeto).text(o.tx_nome_zona_atuacao).appendTo(e)}),s=!1}}})});var d=!0;$("#cd_abrangencia_projeto").mousedown(function(){d&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.AbrangenciaProjeto()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_abrangencia_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_abrangencia_projeto).text(o.tx_nome_abrangencia_projeto).appendTo(e)}),d=!1}}})});var p=!0;$("#cd_status_projeto").mousedown(function(){p&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.SituacaoProjeto()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_status_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_status_projeto).text(o.tx_nome_status_projeto).appendTo(e)}),p=!1}}})});var _=!0;$("#cd_forma_participacao_conferencia").mousedown(function(){_&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.FormaParticipacaoConferencia()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_forma_participacao_conferencia");$.each(a,function(a,o){$("<option>").val(o.cd_forma_participacao_conferencia).text(o.tx_nome_forma_participacao_conferencia).appendTo(e)}),_=!1}$("#cd_forma_participacao_conferencia").addClass("newSelectBox"),$("#cd_forma_participacao_conferencia").selectBoxIt({theme:"default",defaultText:"Qualquer",autoWidth:!1})}})});var f=!0;$("#cd_conferencia").mousedown(function(){f&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.Conferencia()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_conferencia");$.each(a,function(a,o){$("<option>").val(o.cd_conferencia).text(o.tx_nome_conferencia).appendTo(e)}),f=!0}$("#cd_conferencia").addClass("newSelectBox"),$("#cd_conferencia").selectBoxIt({theme:"default",defaultText:"Qualquer",autoWidth:!1})}})});var m=!0;$("#cd_objetivo_projeto").mousedown(function(){m&&$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.Objetivos()},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){if(null!=a){var e=$("#cd_objetivo_projeto");$.each(a,function(a,o){$("<option>").val(o.cd_objetivo_projeto).text(o.tx_nome_objetivo_projeto).appendTo(e)}),m=!1}$("#cd_objetivo_projeto").addClass("newSelectBox"),$("#cd_objetivo_projeto").selectBoxIt({theme:"default",defaultText:"Qualquer",autoWidth:!1})}})}),$("#cd_objetivo_projeto").change(function(){var a=$(this).val();if(""!=a)!function(a){$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"consulta",rota:t.MetaProjeto(a)},error:function(a){console.log("Erro no ajax: "),console.log(a)},success:function(a){var e=$("#cd_meta_projeto"),o='<option value="">Qualquer</option>';null!=a&&$.each(a,function(a,e){o+="<option value="+e.cd_meta_projeto+">"+e.tx_nome_meta_projeto+"</option>"}),e.html(o),$("#cd_meta_projeto").addClass("newSelectBox"),$("#cd_meta_projeto").selectBoxIt({theme:"default",defaultText:"Qualquer",autoWidth:!1}),$("#cd_meta_projeto").selectBoxIt(),verificarContraste()}})}(a);else{$("#cd_meta_projeto").html('<option value="">Qualquer</option>'),$("#cd_meta_projeto").selectBoxIt(),verificarContraste()}}),$("#tx_nome_municipio").autocomplete({minLength:1,source:function(a,n){$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"autocomplete",rota:t.AutocompleteOSCByCounty(e(a.term).replace(/ /g,"+"),25)},success:function(a){n($.map(a,function(a){return{label:a.edmu_nm_municipio+" - "+a.eduf_sg_uf,value:a.edmu_nm_municipio+" - "+a.eduf_sg_uf,id:a.edmu_cd_municipio}}))},error:function(a){n([])}})},select:function(a,e){$("#tx_nome_municipio").val(e.item.value),$("#cd_municipio").val(e.item.id)}}),$("#tx_nome_uf").autocomplete({minLength:1,source:function(a,n){$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"autocomplete",rota:t.AutocompleteOSCByState(e(a.term).replace(/ /g,"+"),10)},success:function(a){n($.map(a,function(a){return{label:a.eduf_nm_uf,value:a.eduf_nm_uf,id:a.eduf_cd_uf}}))},error:function(){n([])}})},select:function(a,e){$("#tx_nome_uf").val(e.item.value),$("#cd_uf").val(e.item.id)}}),$("#tx_nome_regiao").autocomplete({minLength:1,source:function(a,n){$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"autocomplete",rota:t.AutocompleteOSCByRegion(e(a.term).replace(/ /g,"+"),10)},success:function(a){n($.map(a,function(a){return{label:a.edre_nm_regiao,value:a.edre_nm_regiao,id:a.edre_cd_regiao}}))},error:function(){n([])}})},select:function(a,e){$("#tx_nome_regiao").val(e.item.value),$("#cd_regiao").val(e.item.id)}}),$("#tx_atividade_economica").autocomplete({minLength:1,source:function(a,n){$.ajax({url:o,type:"GET",async:!0,dataType:"json",data:{flag:"autocomplete",rota:t.AutocompleteAtividadeEconomica(e(a.term).replace(/ /g,"+"),10)},success:function(a){n($.map(a,function(a){return{label:a.tx_atividade_economica,value:a.tx_atividade_economica}}))},error:function(a){n([])}})},select:function(a,e){$("#tx_atividade_economica").val(e.item.value)}}),$(".min, .max").keypress(function(){var a=window.event,e=a.keyCode;e>47&&e<58||a.preventDefault()}),$(".min").change(function(){$(this).parent().parent().find("div[id^='slider-range-']").slider("values",0,$(this).val().replace(/[.]/g,"").split(",")[0])}),$(".max").change(function(){$(this).parent().parent().find("div[id^='slider-range-']").slider("values",1,$(this).val().replace(/[.]/g,"").split(",")[0])}),$("label[for='valor_dinheiro']").parent().find(".min, .max").mask("000.000.000.000.000,00",{reverse:!0}),$("#btnLimpar").on("click",function(){$(".consultaAvancada input").each(function(){$(this).val("")}),$("input[type=checkbox]").each(function(){$(this).attr("checked",!1),$(this).prop("checked",!1)}),$(".consultaAvancada select").each(function(){$(this).hasClass("newSelectBox")?$(this).data("selectBox-selectBoxIt").selectOption(""):$(this).prop("selectedIndex",0)}),$("div[id^='slider-range-']").each(function(){$(this).slider("values",0,""),$(this).slider("values",1,99999999999)})}),$("#btnConsultar").on("click",function(){var a={};$(".panel-default").each(function(){var e=$(this).find(".panel-title").attr("id");$(this).find("input[type=text], select").each(function(){""!=$(this).val()&&(void 0===a[e]&&(a[e]={}),a[e][$(this).attr("id")]=$(this).val())}),$(this).find("input[type=hidden]").each(function(){""!=$(this).val()&&(void 0===a[e]&&(a[e]={}),a[e][$(this).attr("id")]=$(this).val())}),$(this).find("input[type=checkbox]").each(function(){$(this).prop("checked")&&(void 0===a[e]&&(a[e]={}),a[e][$(this).attr("id")]=$(this).prop("checked"))})});window.localStorage.setItem("params_busca_avancada",JSON.stringify(a)),location.href="./resultado-consulta.html?avancado="})})});