"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(a,t,o){return t&&e(a.prototype,t),o&&e(a,o),a}}(),Projeto=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getFonteDeRecursosProjeto",value:function(e){return{id:"fonte_recursos",dados:e[Object.keys(e)[0]]}}},{key:"montarProjetos",value:function(e,a){var t=[],o=a.validateObject(e.projeto_abreviado,[]);t.push({id:"lista_projetos",priority:"2",text:"Projetos, atividades e programas - PAP"});for(var r=3,n=o.length,l=new Array(n),i=0;i<o.length;i++)l[i]=new Array(r),l[i][0]=a.validateObject(o[i].id_projeto,1),l[i][1]=a.validateObject(o[i].tx_nome_projeto,""),l[i][2]="<span className='input-group-btn'><button id='rem_projeto2' className='btn-danger btn'>Remover Projeto</button></span>";t.push(l);for(var r=3,n=o.length,l=new Array(n),i=0;i<o.length;i++)l[i]=new Array(r),l[i][0]=a.validateObject(o[i].id_projeto,1),l[i][1]=a.validateObject(o[i].tx_nome_projeto,""),l[i][2]="<span className='input-group-btn'><button id='rem_projeto2' className='btn-danger btn'>Remover Projeto</button></span>";return t.push(l),t}},{key:"montarProjeto",value:function(e,a,t,o){var r=t.labelsProjeto(),n=[],l=(e.id_projeto,a.validateObject(e.projeto,e)),e=a.validateObject(l[0],l),i=a.validateObject(e.ft_identificador_projeto_externo,"Representante"),c=a.validateObject(e.objetivo_meta,null),s=this.getFonteDeRecursosProjeto(a.validateObject(e.fonte_recursos,[]));s.dados=a.validateObject(e.fonte_recursos,[]);for(var u in e)if("tipo_parceria"!=u&&"fonte_recursos"!=u&&"area_atuacao"!=u&&"osc_parceira"!=u&&"area_atuacao_outra"!=u){if(e.hasOwnProperty(u)&&void 0!==r[u]){var p=u,d=e[u],j=r[u].header,v=r[u].containerClass,b=r[u].removable,_=r[u].type,f=r[u].options,h=r[u].placeholder,g=r[u].infoTitle,O=null,m=!1;if(null===d||d.constructor!==Array){var y=a.InputProjeto(p,d,_,f,b,O,m,h,i,c,null,g),P=a.AgrupadorDeInputs(p,v,j,[y],O,f,null,g);n.push(P)}}}else if("tipo_parceria"==u){var p=u,d=e[u],j=r[u].header,v=r[u].containerClass,b=r[u].removable,_=r[u].type,f=r[u].options,h=r[u].placeholder,g=r[u].infoTitle,O=null,m=!1,y=a.InputProjeto(p,d,_,f,b,O,m,h,i,null,null,g),P=a.AgrupadorDeInputs(p,v,j,[y],O,f,null,g);n.push(P)}if(e.hasOwnProperty("fonte_recursos")){var p=s.id,d=s.dados,j=r[p].header,v=r[p].containerClass,b=r[p].removable,_=r[p].type,f=r[p].options,h=r[p].placeholder,g=r[u].infoTitle,O=null,m=!1,y=a.InputProjeto(p,d,_,f,b,O,m,h,i,null,null,g),P=a.AgrupadorDeInputs(p,v,j,[y],O,f,null,g);n.push(P)}a.validateObject(e.area_atuacao,[]);for(var I=a.validateObject(e.area_atuacao_outra,[]),A=a.validateObject(e.localizacao,[]),T=a.getTipoProjeto("localizacao_projeto",A),C=a.validateObject(e.publico_beneficiado,[]),w=a.getTipoProjeto("publico_beneficiado",C),k=a.validateObject(e.financiador_projeto,[]),x=a.getTipoProjeto("financiador_projeto",k),I=a.getTipoProjeto("area_atuacao_outra",I),D=a.validateObject(e.osc_parceira,[]),R=a.getTipoProjeto("osc_parceira",D),E=e.osc_parceira?e.osc_parceira.length:0,N=0;N<E;N++)a.validateObject(e.osc_parceira[N].id_osc,null);a.validateObject(e.objetivo_meta)&&e.objetivo_meta.id_objetivo_projeto;for(var z=[T,w,x,R],F=0;F<z.length;F++)if(a.validateObject(z[F].dados,!1)){var M=this.createAgrupadorMultipleInputs(z[F],r,a);n.push(M)}return n}},{key:"carregaProjeto",value:function(e,a,t,o,r){var n={},l=null;if(r){var i=a.getEmptyProject();n.agrupadores=this.montarProjeto(i,o,a,t)}else $.ajax({url:"js/controller.php",type:"GET",async:!1,dataType:"json",data:{flag:"consulta",rota:t.ProjectByID(e)},error:function(e){console.log("Erro no ajax: "),console.log(e)},success:function(e){n.projeto=e}}),l=this.montarProjeto(n.projeto,o,a,t),n.agrupadores=l;return n}},{key:"createAgrupadorMultipleInputs",value:function(e,a,t){var o={type:"remove",value:"Remover"},r={type:"add",value:"Adicionar"},n=e.id,l=a[e.id],i=[],c="",s=t.validateObject(l)?l.removable:"",u=t.validateObject(l)?l.type:"",p=t.validateObject(l)?l.options:"",d=t.validateObject(l)?l.custom_class:"",j=t.validateObject(l)?l.infoTitle:"",v=null,b=!1;if(s&&(v=[o],P=[r],b=!0),0===e.dados.length){f=n;c="";O=t.InputProjeto(f,c,u,p,s,v,b,"Insira a informação",null,null,d,j);i.push(O)}for(var _=0;_<e.dados.length;_++){var f=n;for(var h in e.dados[_])if(e.dados[_].hasOwnProperty(h)&&"tx"===h.slice(0,2)){c=e.dados[_][h];var g=e.dados[_].cd_area_atuacao_projeto,O=t.InputProjeto(f,c,u,p,s,v,b,"Insira a informação",null,g,d,j);i.push(O)}}var m=t.validateObject(l)?l.header:"",y=t.validateObject(l)?l.containerClass:"col-md-3",P=null;s&&(v=[o],P=[r]);return t.AgrupadorDeInputs(n,y,m,i,P,p,d,j)}}]),e}();