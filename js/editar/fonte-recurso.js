"use strict";function _classCallCheck(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function s(s,o){for(var r=0;r<o.length;r++){var e=o[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(o,r,e){return r&&s(o.prototype,r),e&&s(o,e),o}}(),FonteRecurso=function(){function s(){_classCallCheck(this,s)}return _createClass(s,[{key:"montarPorAno",value:function(s,o,r,e,c,n,u,i,a,_,p,t,l,d,b,f){var h=$.grep(_,function(s){return 1==s.cd_origem_fonte_recursos_osc}),v=$.grep(_,function(s){return 2==s.cd_origem_fonte_recursos_osc}),g=$.grep(_,function(s){return 4==s.cd_origem_fonte_recursos_osc}),x=$.grep(_,function(s){return 3==s.cd_origem_fonte_recursos_osc});$("#recursos").append("<div id="+s+"></div>"),0!==u&&$("#"+s).toggleClass("hidden");R=p.items;b=l.createFactory(b),d.render(b({dados:R,ano:s}),document.getElementById(s)),R=t.recursos_geral;for(var m=[],k=0;k<R.length;k++)m.push(a.FormItens("ano-"+s,R[k].label,s,R[k].fonte,R[k].placeholder,R[k].type,R[k].options,R[k].pretext,R[k].custom_class));f=l.createFactory(f),d.render(f({header:null,dados:m}),document.getElementById("recursos_geral-"+s)),t.recursos_nao_financeiros=this.mapContentRecursos(i.recursos_nao_financeiros,x),t.recursos_privados=this.mapContentRecursos(i.recursos_privados,v),t.recursos_proprios=this.mapContentRecursos(i.recursos_proprios,g),t.recursos_publicos=this.mapContentRecursos(i.recursos_publicos,h);for(var y=[{items:t.recursos_proprios,divId:"recursos_proprios"},{items:t.recursos_publicos,divId:"recursos_publicos"},{items:t.recursos_privados,divId:"recursos_privados"},{items:t.recursos_nao_financeiros,divId:"recursos_nao_financeiros"}],C=0;C<y.length;C++){for(var m=[],R=y[C].items,I=y[C].divId,k=0;k<R.length;k++){var F=R[k].content;m.push(a.FormItens(R[k].id,R[k].label,F,R[k].fonte,R[k].placeholder,R[k].type,R[k].options,R[k].pretext))}f=l.createFactory(f),d.render(f({header:null,dados:m}),document.getElementById(I+"-"+s))}$("#recursos_proprios-"+s).find("input").mask("000.000.000.000.000,00",{reverse:!0}),$("#recursos_proprios-"+s).find("input").addClass("with-pretext"),$("#recursos_proprios-"+s).find(".input-box").prepend('<span class="pretext">R$</span>'),$("#recursos_publicos-"+s).find("input").mask("000.000.000.000.000,00",{reverse:!0}),$("#recursos_publicos-"+s).find("input").addClass("with-pretext"),$("#recursos_publicos-"+s).find(".input-box").prepend('<span class="pretext">R$</span>'),$("#recursos_privados-"+s).find("input").mask("000.000.000.000.000,00",{reverse:!0}),$("#recursos_privados-"+s).find("input").addClass("with-pretext"),$("#recursos_privados-"+s).find(".input-box").prepend('<span class="pretext">R$</span>'),$("#recursos_nao_financeiros-"+s).find("input").mask("000.000.000.000.000,00",{reverse:!0}),$("#recursos_nao_financeiros-"+s).find("input").addClass("with-pretext"),$("#recursos_nao_financeiros-"+s).find(".input-box").prepend('<span class="pretext">R$</span>'),$("#recursos_geral-"+s).append('<div class="input-box checkbox"><label><input type="checkbox">Não possui recursos para este ano.</label></div>'),$("#recursos_proprios-"+s).prepend('<div class="input-box checkbox"><label><input type="checkbox">Não possui recursos próprios para este ano.</label></div>'),$("#recursos_publicos-"+s).prepend('<div class="input-box checkbox"><label><input type="checkbox">Não possui recursos públicos para este ano.</label></div>'),$("#recursos_privados-"+s).prepend('<div class="input-box checkbox"><label><input type="checkbox">Não possui recursos privados para este ano.</label></div>'),$("#recursos_nao_financeiros-"+s).prepend('<div class="input-box checkbox"><label><input type="checkbox">Não possui recursos não financeiros para este ano.</label></div>'),$("#recursos_geral-"+s+' input[type="checkbox"]').prop("checked",o),$("#recursos_proprios-"+s+' input[type="checkbox"]').prop("checked",r),$("#recursos_publicos-"+s+' input[type="checkbox"]').prop("checked",e),$("#recursos_privados-"+s+' input[type="checkbox"]').prop("checked",c),$("#recursos_nao_financeiros-"+s+' input[type="checkbox"]').prop("checked",n),$('#recursos input[type="checkbox"]').change(function(){$(this).is(":checked")?$(this).prop("checked",!0):$(this).prop("checked",!1)})}},{key:"carregaFontes",value:function(s){var o=null;return $.ajax({url:"js/controller.php",async:!1,type:"GET",dataType:"json",data:{flag:"consulta",rota:s.FontesRecursos()},success:function(s){o=s},error:function(s){console.log(s)}}),o}},{key:"montarFontedeRecursos",value:function(s,o,r,e,c,n,u,i){var a=e.itemsRecurso(),_=e.tiposRecurso(),p=this.carregaFontes(r);if(null==s.recursos.recursos){s.recursos.recursos=[0,1,2,3],s.recursos.recursos[0]=["dt_ano_recursos_osc","bo_nao_possui","bo_nao_possui_recursos_proprios","bo_nao_possui_recursos_publicos","bo_nao_possui_recursos_privados","bo_nao_possui_recursos_nao_financeiros"],s.recursos.recursos[1]=["dt_ano_recursos_osc","bo_nao_possui","bo_nao_possui_recursos_proprios","bo_nao_possui_recursos_publicos","bo_nao_possui_recursos_privados","bo_nao_possui_recursos_nao_financeiros"],s.recursos.recursos[2]=["dt_ano_recursos_osc","bo_nao_possui","bo_nao_possui_recursos_proprios","bo_nao_possui_recursos_publicos","bo_nao_possui_recursos_privados","bo_nao_possui_recursos_nao_financeiros"],s.recursos.recursos[3]=["dt_ano_recursos_osc","bo_nao_possui","bo_nao_possui_recursos_proprios","bo_nao_possui_recursos_publicos","bo_nao_possui_recursos_privados","bo_nao_possui_recursos_nao_financeiros"],s.recursos.recursos[4]=["dt_ano_recursos_osc","bo_nao_possui","bo_nao_possui_recursos_proprios","bo_nao_possui_recursos_publicos","bo_nao_possui_recursos_privados","bo_nao_possui_recursos_nao_financeiros"],console.log(s.recursos.recursos);for(var t=0;t<5;t++)s.recursos.recursos[t].dt_ano_recursos_osc=2014+t,s.recursos.recursos[t].bo_nao_possui=!1,s.recursos.recursos[t].bo_nao_possui_recursos_proprios=!1,s.recursos.recursos[t].bo_nao_possui_recursos_publicos=!1,s.recursos.recursos[t].bo_nao_possui_recursos_privados=!1,s.recursos.recursos[t].bo_nao_possui_recursos_nao_financeiros=!1}console.log(s.recursos.recursos.length),console.log(s.recursos.recursos);for(var l=0;l<s.recursos.recursos.length;l++)this.montarPorAno(s.recursos.recursos[l].dt_ano_recursos_osc,s.recursos.recursos[l].bo_nao_possui,s.recursos.recursos[l].bo_nao_possui_recursos_proprios,s.recursos.recursos[l].bo_nao_possui_recursos_publicos,s.recursos.recursos[l].bo_nao_possui_recursos_privados,s.recursos.recursos[l].bo_nao_possui_recursos_nao_financeiros,l,s.recursos.recursos[l],o,p,a,_,c,n,u,i);$(".select-ano").find(".form-control").bind("change",function(){var s=$(this).val(),o=$(this).attr("id").slice(4);$("#"+s).hasClass("hidden")&&($("#"+s).toggleClass("hidden"),$("#"+s).siblings().addClass("hidden")),$(this).find("option[value="+o+"]").prop("selected",!0)})}},{key:"mapContentRecursos",value:function(s,o){for(var r=0;r<o.length;r++){var e=o[r];e.id=e.cd_fonte_recursos_osc,e.label=e.tx_nome_fonte_recursos_osc,e.content="",e.placeholder="Insira o valor";for(var c in s){var n=s[c];s.hasOwnProperty(c)&&n.cd_fonte_recursos_osc===e.cd_fonte_recursos_osc&&(e.content=n.nr_valor_recursos_osc,e.fonte=n.ft_valor_recursos_osc)}}return o}}]),s}();