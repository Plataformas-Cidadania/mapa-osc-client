"use strict";function validaEmail(o){var e=o.substring(0,o.indexOf("@")),s=o.substring(o.indexOf("@")+1,o.length);return e.length>=1&&s.length>=3&&-1==e.search("@")&&-1==s.search("@")&&-1==e.search(" ")&&-1==s.search(" ")&&-1!=s.search(".")&&s.indexOf(".")>=1&&s.lastIndexOf(".")<s.length-1}require(["react"],function(o){require(["jquery-ui","rotas"],function(o){$(".captcha input").checkboxradio(),$(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(o,e){$(this).css(o),$("<div>").addClass("arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)}}});var e=new Rotas;$.ajax({url:e.ModuloBySlug("contato"),type:"GET",dataType:"json",error:function(o){console.log("ERRO no AJAX :"+o)},success:function(o){var e="";if(o.length>0&&(e='<div class="row"><div class="col-md-12"><h1 class="text-primary">'+o[0].modulos.tx_titulo_modulo+"</h1><hr></div></div>",e+='<div class="row"><div class="col-md-12">'+o[0].modulos.tx_descricao_modulo+"</div></div>",o[0].itens.length>0))for(var s in o[0].itens)e+='<div class="row"><div class="col-md-12"><h3 class="subTitulo">'+o[0].itens[s].tx_titulo_itens+"</h3>",e+='<div class="text-justify txtBloco">'+o[0].itens[s].tx_descricao_itens+"</div>",e+='<a href="#header" name="header" class="scroll topo">Voltar para o topo</a></div></div>';$("#contato").prepend(e)}}),$("#email.form-control").blur(function(o,e){if(validaEmail(this.value)){s="#"+$("#email.form-control").attr("id")+"1";$("#email.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(s).removeClass("glyphicon-remove").addClass("glyphicon-ok")}else{var s="#"+$("#email.form-control").attr("id")+"1";$("#email.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(s).removeClass("glyphicon-ok").addClass("glyphicon-remove")}});$(".form-group").find(".btn.btn-success").on("click",function(){if(0==grecaptcha.getResponse().length)return jQuery("#labelCaptcha").text("Resolver o Captcha."),!1;jQuery("#labelCaptcha").text("");var o=$("#assunto :selected").text(),e=$("#nome").val(),s=$("#email").val(),a=$("#mensagem").val(),t=$("#modalMensagem");if(!validaEmail(s))return $("#email.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),!1;$("#email.form-control").closest(".form-group").removeClass("has-error").addClass("has-success");var r={assunto:o,nome:e,email:s,mensagem:a},l=new Rotas;$("#loading").show(),$.ajax({type:"POST",url:l.Contato(),data:r,dataType:"json",success:function(o){console.log(o.responseText),t.modal("show")},error:function(o){return console.log(o),500==o.status&&(jQuery("#modalTitle").text("Problema na solicitação!"),jQuery("#modalConteudo").text("Sistema indisponível no momento. Por favor, tente mais tarde.")),t.modal("show"),!1},complete:function(){$("#loading").hide()}})})})});