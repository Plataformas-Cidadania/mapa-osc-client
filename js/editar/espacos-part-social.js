"use strict";var _createClass=function(){function a(e,o){for(var n=0;n<o.length;n++){var a=o[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,o,n){return o&&a(e.prototype,o),n&&a(e,n),e}}();function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var EspacosPartSocial=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ativarEspacosPart",value:function(e,o,n,a,t,r,l,c){var i=e[0];t=n.createFactory(r),a.render(t({header:null,dados:i}),document.getElementById("conselhos")),o.addItem("conselhos"),o.addOutro("conselho"),$(".date").datepicker({dateFormat:"dd-mm-yy"});i=e[1];t=n.createFactory(l),a.render(t({header:null,dados:i}),document.getElementById("conferencias")),o.addItem("conferencias"),o.addOutro("conferencia");i=e[2];c=n.createFactory(c),a.render(c({header:null,dados:i}),document.getElementById("outros_part")),o.addItem("outros_part")}},{key:"iniciarEspacosPartSoc",value:function(e,o,n,a,t,r,l,c,i,s,u){var _=n.partSocial(),d=_.items;return a=t.createFactory(a),r.render(a({dados:d}),document.getElementById(d[0].target)),this.montarEspacosParticipacaoSocial(e,o,_,l,c,i,s,u)}},{key:"montarEspacosParticipacaoSocial",value:function(e,o,n,a,t,r,l,c){var i="js/controller.php";$.ajax({url:i,type:"GET",async:!1,dataType:"json",data:{flag:"consulta",rota:a},error:function(e){console.log("Erro no ajax: "),console.log(e)},success:function(e){a=e}});for(var s=[],u=0;u<a.length;u++)s[u]=a[u].tx_nome_conselho;$.ajax({url:i,type:"GET",async:!1,dataType:"json",data:{flag:"consulta",rota:r},error:function(e){console.log("Erro no ajax: "),console.log(e)},success:function(e){r=e}});var _=[];for(u=0;u<r.length;u++)_[u]=r[u].tx_nome_periodicidade_reuniao_conselho;$.ajax({url:i,type:"GET",async:!1,dataType:"json",data:{flag:"consulta",rota:t},error:function(e){console.log("Erro no ajax: "),console.log(e)},success:function(e){t=e}});var d=[];for(u=0;u<t.length;u++)d[u]=t[u].tx_nome_conferencia;$.ajax({url:i,type:"GET",async:!1,dataType:"json",data:{flag:"consulta",rota:l},error:function(e){console.log("Erro no ajax: "),console.log(e)},success:function(e){l=e}});var p=[];for(u=0;u<l.length;u++)p[u]=l[u].tx_nome_tipo_participacao;var m=[],f=null,h=null,x=null,I=null,g=null,y=null,v=null,F=null,C=null;e.participacao_social&&(f="tx_nome_conselho-0",h="tx_nome_tipo_participacao-0",x="tx_nome_representante_conselho-0",I="tx_periodicidade_reuniao-0",g="dt_data_inicio_conselho-0",y="dt_data_fim_conselho-0",v="tx_nome_conferencia-0",F="tx_nome_forma_participacao_conferencia-0",C="dt_ano_realizacao-0");var j=o.validateObject(e.participacao_social,""),E=o.validateObject(j.conselho,"0"),O=o.validateObject(j.conferencia,"0"),S=o.validateObject(j.outra,"0"),q=[];if(E&&0!=E)for(var T=0;T<E.length;T++)q.push(o.FormItens("tx_nome_conselho-"+E[T].id_conselho,"Nome do Conselho",E[T].tx_nome_conselho,E[T].ft_conselho,null,"select",s)),E[T].tx_nome_conselho_outro?q.push(o.FormItens("outro_conselho-"+E[T].id_conselho,"Identificação do Conselho",E[T].tx_nome_conselho_outro?E[T].tx_nome_conselho_outro:"",E[T].ft_conselho,null,"text")):q.push(o.FormItens("outro_conselho-empty-"+E[T].id_conselho,"Identificação do Conselho",E[T].tx_nome_conselho_outro?E[T].tx_nome_conselho_outro:"",E[T].ft_conselho,null,"text",null,null,null,!0)),q.push(o.FormItens("tx_nome_tipo_participacao-"+E[T].id_conselho,"Titularidade",E[T].tx_nome_tipo_participacao,E[T].ft_tipo_participacao,null,"select",p)),q.push(o.FormItens("tx_nome_representante_conselho-"+E[T].id_conselho,"Nome de representante",E[T].representante?E[T].representante[0].tx_nome_representante_conselho:"",E[T].ft_nome_representante_conselho,null,"text")),q.push(o.FormItens("tx_periodicidade_reuniao-"+E[T].id_conselho,"Periodicidade da Reunião",E[T].tx_periodicidade_reuniao,E[T].ft_periodicidade_reuniao,null,"select",_)),q.push(o.FormItens("dt_data_inicio_conselho-"+E[T].id_conselho,"Data de início de vigência",E[T].dt_data_inicio_conselho,E[T].ft_data_inicio_conselho,null,"text",null,null,"date")),q.push(o.FormItens("dt_data_fim_conselho-"+E[T].id_conselho,"Data de fim de vigência",E[T].dt_data_fim_conselho,E[T].ft_data_fim_conselho,null,"text",null,null,"date"));q.push(o.FormItens(f,"Nome do Conselho",null,null,"","select",s,"Insira o nome do conselho de política pública")),q.push(o.FormItens(h,"Titularidade",null,null,"","select",p,"Diga se a OSCs ocupa vaga de titular ou suplente")),q.push(o.FormItens(x,"Nome de representante",null,null,"Insira o nome do representante da OSC no Conselho","text")),q.push(o.FormItens(I,"Periodicidade da Reunião",null,null,"","select",_,"Indique de quanto em quanto tempo as reuniões do Conselho ocorrem")),q.push(o.FormItens(g,"Data de início de vigência",null,null,"Insira a data em que se iniciou a atividade de representante da OSC no Conselho","text",null,null,"date")),q.push(o.FormItens(y,"Data de fim de vigência",null,null,"Insira a data em que se encerrou a atividade de representante da OSC no Conselho","text",null,null,"date")),m.push(q),$.ajax({url:i,type:"GET",async:!1,dataType:"json",data:{flag:"consulta",rota:c},error:function(e){console.log("Erro no ajax: "),console.log(e)},success:function(e){c=e}});var b=[];for(u=0;u<c.length;u++)b[u]=c[u].tx_nome_forma_participacao_conferencia;q=[];if(O.length){for(n.items,T=0;T<O.length;T++)for(var P in O[T])if(O[T].hasOwnProperty(P)&&("tx_nome_conferencia"==P&&q.push(o.FormItens(P+"-"+O[T].id_conferencia,"Nome da Conferência",O[T].tx_nome_conferencia,O[T].ft_conferencia,null,"select",d)),"tx_nome_conferencia_outra"==P&&(O[T].tx_nome_conferencia_outra?q.push(o.FormItens("outro_conferencia-"+O[T].id_conferencia,"Identificação da Confêrencia",O[T].tx_nome_conferencia_outra?O[T].tx_nome_conferencia_outra:"",O[T].ft_conferencia,null,"text")):q.push(o.FormItens("outro_conferencia-empty-"+O[T].id_conferencia,"Identificação da Confêrencia",O[T].tx_nome_conferencia_outra?O[T].tx_nome_conferencia_outra:"",O[T].ft_conferencia,null,"text",null,null,null,!0))),"tx_nome_forma_participacao_conferencia"==P&&q.push(o.FormItens(P+"-"+O[T].id_conferencia,"Forma de participação na conferência",O[T].tx_nome_forma_participacao_conferencia,O[T].ft_forma_participacao_conferencia,null,"select",b)),"dt_ano_realizacao"==P)){var k=O[T].dt_ano_realizacao;k=k?k.substring(6):k,q.push(o.FormItens(P+"-"+O[T].id_conferencia,"Ano de realização da conferência",k,O[T].ft_ano_realizacao,null,"text",null,null,"ano"))}q.push(o.FormItens(v,"Nome da Conferência",null,null,"","select",d,"Caso a OSC tenha participado, indique aqui o nome da conferência de política pública")),q.push(o.FormItens(C,"Ano de realização da conferência",null,null,"Indique o ano em que se realizou a Conferência","text",null,null,"ano")),q.push(o.FormItens(F,"Forma de participação na conferência",null,null,"","select",b,"Indique qual foi a forma de atuação da OSC nesta Conferência")),m.push(q)}q=[];if(S.length){for(n.items,T=0;T<S.length;T++)for(var P in S[T])S[T].hasOwnProperty(P)&&"tx_nome_participacao_social_outra"==P&&q.push(o.FormItens(P+"-"+S[T].id_participacao_social_outra,"Atuação em Fóruns, Articulações, Coletivos e Redes de OSCs",S[T].tx_nome_participacao_social_outra,S[T].ft_participacao_social_outra,null,"text"));q.push(o.FormItens("tx_nome_participacao_social_outra-0","Atuação em Fóruns, Articulações, Coletivos e Redes de OSCs",null,null,"Indique em quais outros espaços de participação a OSC atualmente tem atuação, se houver","text",null,null,null,null,!0)),m.push(q)}return $(".date").datepicker({dateFormat:"dd-mm-yy"}),m}}]),e}();